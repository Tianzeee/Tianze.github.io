<!DOCTYPE html>


<html lang="en">


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="����,Tianze" />
   
  <meta name="description" content="����˳Ӧ δ����ӭ ��ʱ���� �ȹ����� &#39;&#39;" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    JavaScript学习笔记 |  Tianze&#39;s Blog
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

<link rel="alternate" href="/atom.xml" title="Tianze's Blog" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      <section class="outer">
  <article id="post-JavaScript学习笔记" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  JavaScript学习笔记
</h1>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/04/12/JavaScript/" class="article-date">
  <time datetime="2021-04-12T07:44:55.000Z" itemprop="datePublished">2021-04-12</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
  </div>

      
      
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> Word count:</span>
            <span class="post-count">20k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> Reading time≈</span>
            <span class="post-count">83 min</span>
        </span>
    </span>
</div>

      
    </div>
    

    
    
    <div class="tocbot"></div>





    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>JavaScript 是互联网上最流行的脚本语言，这门语言可用于 HTML 和 web，更可广泛用于服务器、PC、笔记本电脑、平板电脑和智能手机等设备。<a id="more"></a></p>
<p>JavaScript 是一种轻量级的编程语言。</p>
<p>JavaScript 是可插入 HTML 页面的编程代码。</p>
<h2 id="Javascript用法"><a href="#Javascript用法" class="headerlink" title="Javascript用法"></a>Javascript用法</h2><h3 id="lt-script-gt-标签"><a href="#lt-script-gt-标签" class="headerlink" title="&lt;script&gt;标签"></a><code>&lt;script&gt;</code>标签</h3><p>HTML 中的脚本必须位于<code>&lt;script&gt;</code>与<code>&lt;/script&gt;</code>标签之间。</p>
<p>脚本可位于 HTML 的 <code>&lt;body&gt;</code> 或 <code>&lt;head&gt;</code> 部分中，或者同时存在于两个部分中。</p>
<h3 id="在-lt-head-gt-或者-lt-body-gt-的Javascript"><a href="#在-lt-head-gt-或者-lt-body-gt-的Javascript" class="headerlink" title="在&lt;head&gt;或者&lt;body&gt;的Javascript"></a>在<code>&lt;head&gt;</code>或者<code>&lt;body&gt;</code>的Javascript</h3><p>脚本可位于 HTML 的 <code>&lt;body&gt;</code>或 <code>&lt;head&gt;</code> 部分中，或者同时存在于两个部分中。</p>
<p>通常的做法是把函数放入 <code>&lt;head&gt;</code> 部分中，或者放在页面底部。这样就可以把它们安置到同一处位置，不会干扰页面的内容。</p>
<p>但是放在<code>&lt;head&gt;</code>里可能会有问题，因为在页面DOM元素加载完之前，js脚本就以及执行完了，如果js脚本里有操作DOM元素的话，可能就没有效果了，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;cn&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;script标签的位置&lt;&#x2F;title&gt;</span><br><span class="line">	&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">		function btnClick() &#123;</span><br><span class="line">				alert(&#39;helloWorld!&#39;);</span><br><span class="line">			&#125;;</span><br><span class="line">		document.getElementById(&quot;btn&quot;).onclick &#x3D; function() &#123;</span><br><span class="line">				alert(&#39;hello777!&#39;);</span><br><span class="line">			&#125;;</span><br><span class="line">	&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;input type&#x3D;&quot;button&quot; id&#x3D;&quot;btn&quot;  value&#x3D;&quot;点击我&quot; onclick&#x3D;&quot;btnClick();&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>所以放在<code>&lt;body&gt;</code>底部比较好，因为这个位置的js会等页面DOM元素加载完才执行，并且不会阻塞渲染。</p>
<p>如果只想写在<code>&lt;head&gt;</code>里又想让它正常运行，可以把代码写进<code>onload</code>事件里(等页面加载好的一个事件)，使其成为内嵌函数，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;cn&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;script标签的位置&lt;&#x2F;title&gt;</span><br><span class="line">	&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">		function btnClick() &#123;</span><br><span class="line">				alert(&#39;helloWorld!&#39;);</span><br><span class="line">			&#125;;</span><br><span class="line">		onload &#x3D; function() &#123;</span><br><span class="line">				document.getElementById(&quot;btn&quot;).onclick &#x3D; function() &#123;</span><br><span class="line">				alert(&#39;hello777!&#39;);</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;input type&#x3D;&quot;button&quot; id&#x3D;&quot;btn&quot;  value&#x3D;&quot;点击我&quot; onclick&#x3D;&quot;btnClick();&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="函数和事件"><a href="#函数和事件" class="headerlink" title="函数和事件"></a>函数和事件</h3><p>通常，我们需要在某个事件发生时执行代码，比如当用户点击按钮时。</p>
<p>如果我们把 JavaScript 代码放入函数中，就可以在事件发生时调用该函数。</p>
<h3 id="外部的Javascript"><a href="#外部的Javascript" class="headerlink" title="外部的Javascript"></a>外部的Javascript</h3><p>也可以把脚本保存到外部文件中。外部文件通常包含被多个网页使用的代码。</p>
<p>外部 JavaScript 文件的文件扩展名是 .js。</p>
<p>如需使用外部文件，请在<code>&lt;script&gt;</code> 标签的 “src” 属性中设置该 .js 文件</p>
<h2 id="Chrome浏览器执行Javascript"><a href="#Chrome浏览器执行Javascript" class="headerlink" title="Chrome浏览器执行Javascript"></a>Chrome浏览器执行Javascript</h2><p>1、Console控制台调试javascript代码</p>
<p><img src="https://gitee.com/hollow-heart/typora-image/raw/master/20210409170942.png" alt="image-20210409170935845"></p>
<p>2、Chrome snippets小脚本</p>
<p>可以在sources面板的snippets选项里新建脚本文件并执行</p>
<p><img src="https://gitee.com/hollow-heart/typora-image/raw/master/image-20210409171248011.png" alt="image-20210409171248011"></p>
<h2 id="Javascript输出"><a href="#Javascript输出" class="headerlink" title="Javascript输出"></a>Javascript输出</h2><p>Javascript没有任何打印或者输出的函数。但是可以通过不同的方式来输出数据：</p>
<p>1、window.alert()弹出警告框。alert() 函数在 JavaScript 中并不常用，但它对于代码测试非常方便。</p>
<p>2、document.write()方法将内容写到HTML文档中。直接写入 HTML 输出流，只能在 HTML 输出中使用 document.write。如果在文档加载后使用该方法，会覆盖整个文档。</p>
<p>3、innerHTML写入到HTML元素。</p>
<p>4、console.log()写入到浏览器的控制台。</p>
<p>通常用法是用javascript写一个函数，通过操作DOM元素来修改内容<code>document.getElementById(&quot;id&quot;).innerHTML=xxx</code>，最后在页面写一个按钮，通过事件(onclick等等)来触发这个函数</p>
<h2 id="Javascript语法"><a href="#Javascript语法" class="headerlink" title="Javascript语法"></a>Javascript语法</h2><h3 id="字面量"><a href="#字面量" class="headerlink" title="字面量"></a>字面量</h3><p>固定值称为字面量，如3.14。</p>
<p>数字字面量可以是整数或者是小数，或者是科学计数(e)。</p>
<p>字符串字面量用单引号或双引号包围。</p>
<p>表达式字面量用于计算。</p>
<p>数组字面量定义一个数组。</p>
<p>对象字面量定义一个对象。</p>
<p>函数字面量定义一个函数。</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>Javascript用var来声明(创建)变量，在 2015 后的 JavaScript 版本 (ES6) 允许我们使用 const 关键字来定义一个常量，使用 let 关键字定义的限定范围内作用域的变量。</p>
<p>变量必须以字母开头</p>
<p>变量名称对大小写敏感（y 和 Y 是不同的变量）</p>
<h3 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h3><p>javascript语句用分号分隔。</p>
<p>通常我们在每条可执行的语句结尾添加分号。</p>
<p>使用分号的另一用处是在一行中编写多条语句。</p>
<p>在 JavaScript 中，用分号来结束语句是可选的。</p>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>单行注释以双斜杠<code>//</code>开头</p>
<p>多行注释以 <strong>/*</strong> 开始，以 <strong>*/</strong> 结尾。</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>JavaScript 有多种数据类型：数字，字符串，数组，对象等等：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var length &#x3D; 16;                                  &#x2F;&#x2F; Number 通过数字字面量赋值</span><br><span class="line">var points &#x3D; x * 10;                              &#x2F;&#x2F; Number 通过表达式字面量赋值</span><br><span class="line">var lastName &#x3D; &quot;Johnson&quot;;                         &#x2F;&#x2F; String 通过字符串字面量赋值</span><br><span class="line">var cars &#x3D; [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];              &#x2F;&#x2F; Array  通过数组字面量赋值</span><br><span class="line">var person &#x3D; &#123;firstName:&quot;John&quot;, lastName:&quot;Doe&quot;&#125;;  &#x2F;&#x2F; Object 通过对象字面量赋值</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>用<code>function</code>来定义函数</p>
<h3 id="字母大小写"><a href="#字母大小写" class="headerlink" title="字母大小写"></a>字母大小写</h3><p>JavaScript 对大小写是敏感的。 JavaScript 语句和 JavaScript 变量都对大小写敏感。</p>
<p>当编写 JavaScript 语句时，请留意是否关闭大小写切换键。</p>
<p>函数 <strong>getElementById</strong> 与 <strong>getElementbyID</strong> 是不同的。</p>
<p>同样，变量 <strong>myVariable</strong> 与 <strong>MyVariable</strong> 也是不同的。</p>
<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><p>JavaScript 使用 Unicode 字符集。</p>
<p>Unicode 覆盖了所有的字符，包含标点等字符。</p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><p>JavaScript 中，常见的是驼峰法的命名规则，如 lastName (而不是lastname)。</p>
<blockquote>
<p><strong>驼峰命名法</strong></p>
<p>骆驼式命名法就是当变量名或函式名是由一个或多个单字连结在一起，而构成的唯一识别字时<strong>，第一个单词以小写字母开始；第二个单词的首字母大写或每一个单词的首字母都采用大写字母，</strong>例如：myFirstName、myLastName，这样的变量名看上去就像骆驼峰一样此起彼伏，故得名。</p>
</blockquote>
<h2 id="Javascript语句"><a href="#Javascript语句" class="headerlink" title="Javascript语句"></a>Javascript语句</h2><h3 id="语句标识符"><a href="#语句标识符" class="headerlink" title="语句标识符"></a>语句标识符</h3><p>JavaScript 语句通常以一个 <strong>语句标识符</strong> 为开始，并执行该语句。</p>
<p>语句标识符是保留关键字不能作为变量名使用。</p>
<p>下表列出了 JavaScript 语句标识符 (关键字) ：</p>
<table>
<thead>
<tr>
<th align="left">语句</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">break</td>
<td align="left">用于跳出循环。</td>
</tr>
<tr>
<td align="left">catch</td>
<td align="left">语句块，在 try 语句块执行出错时执行 catch 语句块。</td>
</tr>
<tr>
<td align="left">continue</td>
<td align="left">跳过循环中的一个迭代。</td>
</tr>
<tr>
<td align="left">do … while</td>
<td align="left">执行一个语句块，在条件语句为 true 时继续执行该语句块。</td>
</tr>
<tr>
<td align="left">for</td>
<td align="left">在条件语句为 true 时，可以将代码块执行指定的次数。</td>
</tr>
<tr>
<td align="left">for … in</td>
<td align="left">用于遍历数组或者对象的属性（对数组或者对象的属性进行循环操作）。</td>
</tr>
<tr>
<td align="left">function</td>
<td align="left">定义一个函数</td>
</tr>
<tr>
<td align="left">if … else</td>
<td align="left">用于基于不同的条件来执行不同的动作。</td>
</tr>
<tr>
<td align="left">return</td>
<td align="left">退出函数</td>
</tr>
<tr>
<td align="left">switch</td>
<td align="left">用于基于不同的条件来执行不同的动作。</td>
</tr>
<tr>
<td align="left">throw</td>
<td align="left">抛出（生成）错误 。</td>
</tr>
<tr>
<td align="left">try</td>
<td align="left">实现错误处理，与 catch 一同使用。</td>
</tr>
<tr>
<td align="left">var</td>
<td align="left">声明一个变量。</td>
</tr>
<tr>
<td align="left">while</td>
<td align="left">当条件语句为 true 时，执行语句块。</td>
</tr>
</tbody></table>
<h3 id="代码行折行"><a href="#代码行折行" class="headerlink" title="代码行折行"></a>代码行折行</h3><p>您可以在文本字符串中使用反斜杠对代码行进行换行。下面的例子会正确地显示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">document.write(&quot;你好 \</span><br><span class="line">世界!&quot;);</span><br></pre></td></tr></table></figure>

<p>不过，不能像这样折行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">document.write \ </span><br><span class="line">(&quot;你好世界!&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>知识点：</strong>JavaScript 是脚本语言，浏览器会在读取代码时，逐行地执行脚本代码。而对于传统编程来说，会在执行前对所有代码进行编译。</p>
<h2 id="Javascript数据类型"><a href="#Javascript数据类型" class="headerlink" title="Javascript数据类型"></a>Javascript数据类型</h2><p><strong>值类型(基本类型)</strong>：字符串（String）、数字(Number)、布尔(Boolean)、对空（Null）、未定义（Undefined）、Symbol。</p>
<p><strong>引用数据类型</strong>：对象(Object)、数组(Array)、函数(Function)。</p>
<blockquote>
<p><strong>注：</strong>Symbol 是 ES6 引入了一种新的原始数据类型，表示独一无二的值。</p>
</blockquote>
<h3 id="Javascript拥有动态类型"><a href="#Javascript拥有动态类型" class="headerlink" title="Javascript拥有动态类型"></a>Javascript拥有动态类型</h3><p>JavaScript拥有动态类型，这意味着相同的变量可用作不同的类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var x;               &#x2F;&#x2F; x 为 undefined</span><br><span class="line">var x &#x3D; 5;           &#x2F;&#x2F; 现在 x 为数字</span><br><span class="line">var x &#x3D; &quot;John&quot;;      &#x2F;&#x2F; 现在 x 为字符串</span><br></pre></td></tr></table></figure>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>下面的代码创建名为 cars 的数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var cars&#x3D;new Array();</span><br><span class="line">cars[0]&#x3D;&quot;Saab&quot;;</span><br><span class="line">cars[1]&#x3D;&quot;Volvo&quot;;</span><br><span class="line">cars[2]&#x3D;&quot;BMW&quot;;</span><br></pre></td></tr></table></figure>

<p>或者 (condensed array):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var cars&#x3D;new Array(&quot;Saab&quot;,&quot;Volvo&quot;,&quot;BMW&quot;);</span><br></pre></td></tr></table></figure>

<p>或者 (literal array):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var cars&#x3D;[&quot;Saab&quot;,&quot;Volvo&quot;,&quot;BMW&quot;];</span><br></pre></td></tr></table></figure>

<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>对象由花括号分隔。在括号内部，对象的属性以名称和值对的形式 (name : value) 来定义。属性由逗号分隔：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var person&#x3D;&#123;firstname:&quot;John&quot;, lastname:&quot;Doe&quot;, id:5566&#125;;</span><br></pre></td></tr></table></figure>

<p>上面例子中的对象 (person) 有三个属性：firstname、lastname 以及 id。</p>
<p>空格和折行无关紧要。声明可横跨多行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var person&#x3D;&#123;</span><br><span class="line">firstname : &quot;John&quot;,</span><br><span class="line">lastname  : &quot;Doe&quot;,</span><br><span class="line">id        :  5566</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>对象属性有两种寻址方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name&#x3D;person.lastname;</span><br><span class="line">name&#x3D;person[&quot;lastname&quot;];</span><br></pre></td></tr></table></figure>

<h3 id="Undefined和Null"><a href="#Undefined和Null" class="headerlink" title="Undefined和Null"></a>Undefined和Null</h3><p>Undefined 这个值表示变量不含有值。</p>
<p>可以通过将变量的值设置为 null 来清空变量。</p>
<h3 id="声明变量类型"><a href="#声明变量类型" class="headerlink" title="声明变量类型"></a>声明变量类型</h3><p>用关键词”new”来声明其类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var carname&#x3D;new String;</span><br><span class="line">var x&#x3D;      new Number;</span><br><span class="line">var y&#x3D;      new Boolean;</span><br><span class="line">var cars&#x3D;   new Array;</span><br><span class="line">var person&#x3D; new Object;</span><br></pre></td></tr></table></figure>

<p> JavaScript 变量均为对象。当您声明一个变量时，就创建了一个新的对象。</p>
<h2 id="JavaScript对象"><a href="#JavaScript对象" class="headerlink" title="JavaScript对象"></a>JavaScript对象</h2><p>JavaScript 对象是拥有属性和方法的数据。(感觉和Java对象有点像)</p>
<p>在 JavaScript中，几乎所有的事物都是对象。</p>
<p>对象也是一个变量，但对象可以包含多个值（多个变量），每个值以 <strong>name:value</strong> 对呈现。</p>
<p>可以说 “JavaScript 对象是变量的容器”。</p>
<p>但是，我们通常认为 “JavaScript 对象是键值对的容器”。</p>
<p>键值对通常写法为 <strong>name : value</strong> (键与值以冒号分割)。</p>
<p>键值对在 JavaScript 对象通常称为 <strong>对象属性</strong>。</p>
<p> JavaScript 对象是属性变量的容器。</p>
<p> JavaScript 对象是属性和方法的容器。</p>
<h3 id="访问对象属性"><a href="#访问对象属性" class="headerlink" title="访问对象属性"></a>访问对象属性</h3><p>可以通过两种方式访问对象属性:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name&#x3D;person.lastname;</span><br><span class="line">name&#x3D;person[&quot;lastname&quot;];</span><br></pre></td></tr></table></figure>

<h3 id="对象方法"><a href="#对象方法" class="headerlink" title="对象方法"></a>对象方法</h3><p>对象的方法定义了一个函数，并作为对象的属性存储。</p>
<p>对象方法通过添加 () 调用 (作为一个函数)。</p>
<p>该实例访问了 person 对象的 fullName() 方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id&#x3D;&quot;demo&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var person &#x3D; &#123;</span><br><span class="line">    firstName: &quot;John&quot;,</span><br><span class="line">    lastName : &quot;Doe&quot;,</span><br><span class="line">    id : 5566,</span><br><span class="line">    fullName : function() </span><br><span class="line">	&#123;</span><br><span class="line">       return this.firstName + &quot; &quot; + this.lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">document.getElementById(&quot;demo&quot;).innerHTML &#x3D; person.fullName();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>如果你要访问 person 对象的 fullName 属性，它将作为一个定义函数的字符串返回：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id&#x3D;&quot;demo1&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;demo2&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var person &#x3D; &#123;</span><br><span class="line">    firstName: &quot;John&quot;,</span><br><span class="line">    lastName : &quot;Doe&quot;,</span><br><span class="line">    id : 5566,</span><br><span class="line">    fullName : function() </span><br><span class="line">	&#123;</span><br><span class="line">       return this.firstName + &quot; &quot; + this.lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">document.getElementById(&quot;demo1&quot;).innerHTML &#x3D; &quot;不加括号输出函数表达式：&quot;  + person.fullName;</span><br><span class="line">document.getElementById(&quot;demo2&quot;).innerHTML &#x3D; &quot;加括号输出函数执行结果：&quot;  +  person.fullName();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="访问对象方法"><a href="#访问对象方法" class="headerlink" title="访问对象方法"></a>访问对象方法</h3><p>可以使用以下语法创建对象方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">methodName : function() &#123;</span><br><span class="line">    &#x2F;&#x2F; 代码 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以使用以下语法访问对象方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objectName.methodName()</span><br></pre></td></tr></table></figure>

<p>通常 fullName() 是作为 person 对象的一个方法， fullName 是作为一个属性。</p>
<h2 id="JavaScript函数"><a href="#JavaScript函数" class="headerlink" title="JavaScript函数"></a>JavaScript函数</h2><p>函数是由事件驱动的或者当它被调用时执行的可重复使用的代码块。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>函数就是包裹在花括号中的代码块，前面使用了关键词 function：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function functionname()</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; 执行代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当调用该函数时，会执行函数内的代码。</p>
<p>可以在某事件发生时直接调用函数（比如当用户点击按钮时），并且可由 JavaScript 在任何位置进行调用。 JavaScript 对大小写敏感。关键词 function 必须是小写的，并且必须以与函数名称相同的大小写来调用函数。</p>
<h3 id="调用带参数的函数"><a href="#调用带参数的函数" class="headerlink" title="调用带参数的函数"></a>调用带参数的函数</h3><p>在调用函数时，您可以向其传递值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function myFunction(var1,var2)</span><br><span class="line">&#123;</span><br><span class="line">	&#x2F;&#x2F; 代码</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myFunction(argument1,argument2)</span><br></pre></td></tr></table></figure>

<h3 id="带返回值的函数"><a href="#带返回值的函数" class="headerlink" title="带返回值的函数"></a>带返回值的函数</h3><p>有时，我们会希望函数将值返回调用它的地方。</p>
<p>通过使用 return 语句就可以实现。</p>
<p>在使用 return 语句时，函数会停止执行，并返回指定的值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function myFunction()</span><br><span class="line">&#123;</span><br><span class="line">    var x&#x3D;5;</span><br><span class="line">    return x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在您仅仅希望退出函数时 ，也可使用 return 语句。返回值是可选的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function myFunction(a,b)</span><br><span class="line">&#123;</span><br><span class="line">    if (a&gt;b)</span><br><span class="line">    &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    x&#x3D;a+b</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;如果 a 大于 b，则上面的代码将退出函数，并不会计算 a 和 b 的总和。</span><br></pre></td></tr></table></figure>

<h3 id="局部javascript变量"><a href="#局部javascript变量" class="headerlink" title="局部javascript变量"></a>局部javascript变量</h3><p>在 JavaScript 函数内部声明的变量（使用 var）是<em>局部</em>变量，所以只能在函数内部访问它。（该变量的作用域是局部的）。</p>
<p>您可以在不同的函数中使用名称相同的局部变量，因为只有声明过该变量的函数才能识别出该变量。</p>
<p>只要函数运行完毕，本地变量就会被删除。</p>
<h3 id="全局javascript变量"><a href="#全局javascript变量" class="headerlink" title="全局javascript变量"></a>全局javascript变量</h3><p>在函数外声明的变量是<em>全局</em>变量，网页上的所有脚本和函数都能访问它。</p>
<h3 id="JavaScript变量的生命周期"><a href="#JavaScript变量的生命周期" class="headerlink" title="JavaScript变量的生命周期"></a>JavaScript变量的生命周期</h3><p>JavaScript 变量生命周期在它声明时初始化。</p>
<p>局部变量在函数执行完毕后销毁。</p>
<p>全局变量在页面关闭后销毁。</p>
<h3 id="向未声明的JavaScript变量赋值"><a href="#向未声明的JavaScript变量赋值" class="headerlink" title="向未声明的JavaScript变量赋值"></a>向未声明的JavaScript变量赋值</h3><p>如果您把值赋给尚未声明的变量，该变量将被自动作为 window 的一个属性。</p>
<p>非严格模式下给未声明变量赋值创建的全局变量，是全局对象的可配置属性，可以删除。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var var1 &#x3D; 1; &#x2F;&#x2F; 不可配置全局属性</span><br><span class="line">var2 &#x3D; 2; &#x2F;&#x2F; 没有使用 var 声明，可配置全局属性</span><br><span class="line"></span><br><span class="line">console.log(this.var1); &#x2F;&#x2F; 1</span><br><span class="line">console.log(window.var1); &#x2F;&#x2F; 1</span><br><span class="line">console.log(window.var2); &#x2F;&#x2F; 2</span><br><span class="line"></span><br><span class="line">delete var1; &#x2F;&#x2F; false 无法删除</span><br><span class="line">console.log(var1); &#x2F;&#x2F;1</span><br><span class="line"></span><br><span class="line">delete var2; </span><br><span class="line">console.log(delete var2); &#x2F;&#x2F; true</span><br><span class="line">console.log(var2); &#x2F;&#x2F; 已经删除 报错变量未定义</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript作用域"><a href="#JavaScript作用域" class="headerlink" title="JavaScript作用域"></a>JavaScript作用域</h2><p>作用域是可访问变量的集合。</p>
<h3 id="HTML中的全局变量"><a href="#HTML中的全局变量" class="headerlink" title="HTML中的全局变量"></a>HTML中的全局变量</h3><p>在 HTML 中, 全局变量是 window 对象: 所有数据变量都属于 window 对象。</p>
<h2 id="JavaScript事件"><a href="#JavaScript事件" class="headerlink" title="JavaScript事件"></a>JavaScript事件</h2><p>HTML 事件是发生在 HTML 元素上的事情。</p>
<p>当在 HTML 页面中使用 JavaScript 时， JavaScript 可以触发这些事件。</p>
<h3 id="HTML事件"><a href="#HTML事件" class="headerlink" title="HTML事件"></a>HTML事件</h3><p>HTML 事件可以是浏览器行为，也可以是用户行为。</p>
<p>以下是 HTML 事件的实例：</p>
<p>HTML 页面完成加载</p>
<p>HTML input 字段改变时</p>
<p>HTML 按钮被点击</p>
<p>通常，当事件发生时，你可以做些事情。</p>
<p>在事件触发时 JavaScript 可以执行一些代码。</p>
<p>HTML 元素中可以添加事件属性，使用 JavaScript 代码来添加 HTML 元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">单引号:</span><br><span class="line">&lt;some-HTML-element some-event&#x3D;&#39;JavaScript 代码&#39;&gt;</span><br><span class="line">双引号:</span><br><span class="line">&lt;some-HTML-element some-event&#x3D;&quot;JavaScript 代码&quot;&gt;</span><br><span class="line">实例:</span><br><span class="line">&lt;button onclick&#x3D;&quot;getElementById(&#39;demo&#39;).innerHTML&#x3D;Date()&quot;&gt;现在的时间是?&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button onclick&#x3D;&quot;this.innerHTML&#x3D;Date()&quot;&gt;现在的时间是?&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">JavaScript代码通常是几行代码。比较常见的是通过事件属性来调用:</span><br><span class="line">&lt;button onclick&#x3D;&quot;displayDate()&quot;&gt;现在的时间是?&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="常见的HTML事件"><a href="#常见的HTML事件" class="headerlink" title="常见的HTML事件"></a>常见的HTML事件</h3><p>下面是一些常见的HTML事件的列表:</p>
<table>
<thead>
<tr>
<th align="left">事件</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">onchange</td>
<td align="left">HTML 元素改变</td>
</tr>
<tr>
<td align="left">onclick</td>
<td align="left">用户点击 HTML 元素</td>
</tr>
<tr>
<td align="left">onmouseover</td>
<td align="left">用户在一个HTML元素上移动鼠标</td>
</tr>
<tr>
<td align="left">onmouseout</td>
<td align="left">用户从一个HTML元素上移开鼠标</td>
</tr>
<tr>
<td align="left">onkeydown</td>
<td align="left">用户按下键盘按键</td>
</tr>
<tr>
<td align="left">onload</td>
<td align="left">浏览器已完成页面的加载</td>
</tr>
</tbody></table>
<h3 id="JavaScript可以做什么？"><a href="#JavaScript可以做什么？" class="headerlink" title="JavaScript可以做什么？"></a>JavaScript可以做什么？</h3><p>事件可以用于处理表单验证，用户输入，用户行为及浏览器动作:</p>
<p>页面加载时触发事件</p>
<p>页面关闭时触发事件</p>
<p>用户点击按钮执行动作</p>
<p>验证用户输入内容的合法性</p>
<p>等等 …</p>
<p>可以使用多种方法来执行 JavaScript 事件代码：</p>
<p>HTML 事件属性可以直接执行 JavaScript 代码</p>
<p>HTML 事件属性可以调用 JavaScript 函数</p>
<p>你可以为 HTML 元素指定自己的事件处理程序</p>
<p>你可以阻止事件的发生。</p>
<p>等等 …</p>
<h2 id="JavaScript字符串"><a href="#JavaScript字符串" class="headerlink" title="JavaScript字符串"></a>JavaScript字符串</h2><p>JavaScript 字符串用于存储和处理文本。</p>
<p>字符串可以存储一系列字符，如 “John Doe”。</p>
<p>字符串可以是插入到引号中的任何字符。你可以使用单引号或双引号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var carname &#x3D; &quot;Volvo XC60&quot;;</span><br><span class="line">var carname &#x3D; &#39;Volvo XC60&#39;;</span><br></pre></td></tr></table></figure>

<p>可以使用索引位置来访问字符串中的每个字符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var character &#x3D; carname[7];</span><br></pre></td></tr></table></figure>

<p>字符串的索引从 0 开始，这意味着第一个字符索引值为 [0],第二个为 [1], 以此类推。</p>
<p>可以在字符串中使用引号，字符串中的引号不要与字符串的引号相同:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var answer &#x3D; &quot;It&#39;s alright&quot;;</span><br><span class="line">var answer &#x3D; &quot;He is called &#39;Johnny&#39;&quot;;</span><br><span class="line">var answer &#x3D; &#39;He is called &quot;Johnny&quot;&#39;;</span><br></pre></td></tr></table></figure>

<p>也可以在字符串添加转义字符来使用引号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; &#39;It\&#39;s alright&#39;;</span><br><span class="line">var y &#x3D; &quot;He is called \&quot;Johnny\&quot;&quot;;</span><br></pre></td></tr></table></figure>

<h3 id="字符串长度"><a href="#字符串长度" class="headerlink" title="字符串长度"></a>字符串长度</h3><p>可以使用内置属性 <strong>length</strong> 来计算字符串的长度：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var txt &#x3D; &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;</span><br><span class="line">var sln &#x3D; txt.length;</span><br></pre></td></tr></table></figure>

<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><p>在 JavaScript 中，字符串写在单引号或双引号中。</p>
<p>因为这样，以下实例 JavaScript 无法解析：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;We are the so-called &quot;Vikings&quot; from the north.&quot;</span><br><span class="line">字符串 &quot;We are the so-called &quot; 被截断。</span><br></pre></td></tr></table></figure>

<p>如何解决以上的问题呢？可以使用反斜杠 () 来转义 “Vikings” 字符串中的双引号，如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;We are the so-called \&quot;Vikings\&quot; from the north.&quot;</span><br></pre></td></tr></table></figure>

<p> 反斜杠是一个<strong>转义字符</strong>。 转义字符将特殊字符转换为字符串字符：</p>
<p>转义字符 () 可以用于转义撇号，换行，引号，等其他特殊字符。</p>
<p>下表中列举了在字符串中可以使用转义字符转义的特殊字符：</p>
<table>
<thead>
<tr>
<th align="left">代码</th>
<th align="left">输出</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#39;</td>
<td align="left">单引号</td>
</tr>
<tr>
<td align="left">&quot;</td>
<td align="left">双引号</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">反斜杠</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">换行</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">回车</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">tab(制表符)</td>
</tr>
<tr>
<td align="left">\b</td>
<td align="left">退格符</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">换页符</td>
</tr>
</tbody></table>
<h3 id="字符串可以是对象"><a href="#字符串可以是对象" class="headerlink" title="字符串可以是对象"></a>字符串可以是对象</h3><p>通常， JavaScript 字符串是原始值，可以使用字符创建： <strong>var firstName = “John”</strong></p>
<p>但我们也可以使用 new 关键字将字符串定义为一个对象： <strong>var firstName = new String(“John”)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; &quot;John&quot;;</span><br><span class="line">var y &#x3D; new String(&quot;John&quot;);</span><br><span class="line">typeof x &#x2F;&#x2F; 返回 String</span><br><span class="line">typeof y &#x2F;&#x2F; 返回 Object</span><br><span class="line"></span><br><span class="line">不要创建 String 对象。它会拖慢执行速度，并可能产生其他副作用：</span><br><span class="line">var x &#x3D; &quot;John&quot;;             </span><br><span class="line">var y &#x3D; new String(&quot;John&quot;);</span><br><span class="line">(x &#x3D;&#x3D;&#x3D; y) &#x2F;&#x2F; 结果为 false，因为 x 是字符串，y 是对象</span><br><span class="line">&#x3D;&#x3D;&#x3D; 为绝对相等，即数据类型与值都必须相等。</span><br></pre></td></tr></table></figure>

<h3 id="字符串属性和方法"><a href="#字符串属性和方法" class="headerlink" title="字符串属性和方法"></a>字符串属性和方法</h3><p>原始值字符串，如 “John”, 没有属性和方法(因为他们不是对象)。</p>
<p>原始值可以使用 JavaScript 的属性和方法，因为 JavaScript 在执行方法和属性时可以把原始值当作对象。</p>
<h3 id="字符串属性"><a href="#字符串属性" class="headerlink" title="字符串属性"></a>字符串属性</h3><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">constructor</td>
<td align="left">返回创建字符串属性的函数</td>
</tr>
<tr>
<td align="left">length</td>
<td align="left">返回字符串的长度</td>
</tr>
<tr>
<td align="left">prototype</td>
<td align="left">允许您向对象添加属性和方法</td>
</tr>
</tbody></table>
<h3 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h3><table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">charAt()</td>
<td align="left">返回指定索引位置的字符</td>
</tr>
<tr>
<td align="left">charCodeAt()</td>
<td align="left">返回指定索引位置字符的 Unicode 值</td>
</tr>
<tr>
<td align="left">concat()</td>
<td align="left">连接两个或多个字符串，返回连接后的字符串</td>
</tr>
<tr>
<td align="left">fromCharCode()</td>
<td align="left">将 Unicode 转换为字符串</td>
</tr>
<tr>
<td align="left">indexOf()</td>
<td align="left">返回字符串中检索指定字符第一次出现的位置</td>
</tr>
<tr>
<td align="left">lastIndexOf()</td>
<td align="left">返回字符串中检索指定字符最后一次出现的位置</td>
</tr>
<tr>
<td align="left">localeCompare()</td>
<td align="left">用本地特定的顺序来比较两个字符串</td>
</tr>
<tr>
<td align="left">match()</td>
<td align="left">找到一个或多个正则表达式的匹配</td>
</tr>
<tr>
<td align="left">replace()</td>
<td align="left">替换与正则表达式匹配的子串</td>
</tr>
<tr>
<td align="left">search()</td>
<td align="left">检索与正则表达式相匹配的值</td>
</tr>
<tr>
<td align="left">slice()</td>
<td align="left">提取字符串的片断，并在新的字符串中返回被提取的部分</td>
</tr>
<tr>
<td align="left">split()</td>
<td align="left">把字符串分割为子字符串数组</td>
</tr>
<tr>
<td align="left">substr()</td>
<td align="left">从起始索引号提取字符串中指定数目的字符</td>
</tr>
<tr>
<td align="left">substring()</td>
<td align="left">提取字符串中两个指定的索引号之间的字符</td>
</tr>
<tr>
<td align="left">toLocaleLowerCase()</td>
<td align="left">根据主机的语言环境把字符串转换为小写，只有几种语言（如土耳其语）具有地方特有的大小写映射</td>
</tr>
<tr>
<td align="left">toLocaleUpperCase()</td>
<td align="left">根据主机的语言环境把字符串转换为大写，只有几种语言（如土耳其语）具有地方特有的大小写映射</td>
</tr>
<tr>
<td align="left">toLowerCase()</td>
<td align="left">把字符串转换为小写</td>
</tr>
<tr>
<td align="left">toString()</td>
<td align="left">返回字符串对象值</td>
</tr>
<tr>
<td align="left">toUpperCase()</td>
<td align="left">把字符串转换为大写</td>
</tr>
<tr>
<td align="left">trim()</td>
<td align="left">移除字符串首尾空白</td>
</tr>
<tr>
<td align="left">valueOf()</td>
<td align="left">返回某个字符串对象的原始值</td>
</tr>
</tbody></table>
<h2 id="JavaScript运算符"><a href="#JavaScript运算符" class="headerlink" title="JavaScript运算符"></a>JavaScript运算符</h2><p>算数运算符和逻辑运算符基本和C语言一样</p>
<h3 id="用于字符串的-运算符"><a href="#用于字符串的-运算符" class="headerlink" title="用于字符串的+运算符"></a>用于字符串的+运算符</h3><p>+ 运算符用于把文本值或字符串变量加起来（连接起来）。</p>
<p>如需把两个或多个字符串变量连接起来，请使用 + 运算符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">txt1&#x3D;&quot;What a very &quot;;</span><br><span class="line">txt2&#x3D;&quot;nice day&quot;;</span><br><span class="line">txt3&#x3D;txt1+txt2;  &#x2F;&#x2F;txt3&#x3D;&quot;What a very nice day&quot;</span><br></pre></td></tr></table></figure>

<h3 id="字符串和数字加法运算"><a href="#字符串和数字加法运算" class="headerlink" title="字符串和数字加法运算"></a>字符串和数字加法运算</h3><p>两个数字相加，返回数字相加的和，如果数字与字符串相加，返回字符串，如下实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x&#x3D;5+5;</span><br><span class="line">y&#x3D;&quot;5&quot;+5;</span><br><span class="line">z&#x3D;&quot;Hello&quot;+5;</span><br><span class="line"></span><br><span class="line">x,y,z 输出结果为:</span><br><span class="line">10</span><br><span class="line">55</span><br><span class="line">Hello5</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript比较"><a href="#JavaScript比较" class="headerlink" title="JavaScript比较"></a>JavaScript比较</h2><p>比较和逻辑运算符用于测试 <em>true</em> 或者 <em>false</em>。</p>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>基本也和C语言相同，但是多了===(绝对等于)和!==(不绝对等于)。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">===</td>
<td align="left">绝对等于（值和类型均相等）</td>
</tr>
<tr>
<td align="left">!==</td>
<td align="left">不绝对等于（值和类型有一个不相等，或两个都不相等）</td>
</tr>
</tbody></table>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>同C语言</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">例子</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;&amp;</td>
<td align="left">and</td>
<td align="left">(x &lt; 10 &amp;&amp; y &gt; 1) 为 true</td>
</tr>
<tr>
<td align="left">||</td>
<td align="left">or</td>
<td align="left">(x==5 || y==5) 为 false</td>
</tr>
<tr>
<td align="left">!</td>
<td align="left">not</td>
<td align="left">!(x==y) 为 true</td>
</tr>
</tbody></table>
<h3 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h3><p>JavaScript 还包含了基于某些条件对变量进行赋值的条件运算符。</p>
<p>这个和C语言的三目运算符用法一样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">variablename&#x3D;(condition)?value1:value2;</span><br><span class="line">例如:</span><br><span class="line">voteable&#x3D;(age&lt;18)?&quot;年龄太小&quot;:&quot;年龄已达到&quot;;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript条件语句"><a href="#JavaScript条件语句" class="headerlink" title="JavaScript条件语句"></a>JavaScript条件语句</h2><p>在 JavaScript 中，我们可使用以下条件语句：</p>
<p>if语句</p>
<p>if…else语句</p>
<p>if…else if…else语句</p>
<p>switch语句</p>
<p>用法同C语言</p>
<h2 id="JavaScript循环"><a href="#JavaScript循环" class="headerlink" title="JavaScript循环"></a>JavaScript循环</h2><p>JavaScript 支持不同类型的循环：</p>
<p>for - 循环代码块一定的次数</p>
<p>for/in - 循环遍历对象的属性</p>
<p>while - 当指定的条件为 true 时循环指定的代码块</p>
<p>do/while - 同样当指定的条件为 true 时循环指定的代码块</p>
<p>break 语句用于跳出循环。</p>
<p>continue 用于跳过循环中的一个迭代。</p>
<p>基本同C语言，多了个for/in循环。</p>
<p>JavaScript for/in 语句循环遍历对象的属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var person&#x3D;&#123;fname:&quot;Bill&quot;,lname:&quot;Gates&quot;,age:56&#125;; </span><br><span class="line"> </span><br><span class="line">for (x in person)  &#x2F;&#x2F; x 为属性名</span><br><span class="line">&#123;</span><br><span class="line">    txt&#x3D;txt + person[x];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-typeof"><a href="#JavaScript-typeof" class="headerlink" title="JavaScript typeof"></a>JavaScript typeof</h2><h3 id="typeof操作符"><a href="#typeof操作符" class="headerlink" title="typeof操作符"></a>typeof操作符</h3><p>你可以使用 typeof 操作符来检测变量的数据类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">typeof &quot;John&quot;                &#x2F;&#x2F; 返回 string</span><br><span class="line">typeof 3.14                  &#x2F;&#x2F; 返回 number</span><br><span class="line">typeof false                 &#x2F;&#x2F; 返回 boolean</span><br><span class="line">typeof [1,2,3,4]             &#x2F;&#x2F; 返回 object</span><br><span class="line">typeof &#123;name:&#39;John&#39;, age:34&#125; &#x2F;&#x2F; 返回 object</span><br><span class="line">在JavaScript中，数组是一种特殊的对象类型。 因此 typeof [1,2,3,4] 返回 object。</span><br></pre></td></tr></table></figure>

<h3 id="null"><a href="#null" class="headerlink" title="null"></a>null</h3><p>在 JavaScript 中 null 表示 “什么都没有”。</p>
<p>null是一个只有一个值的特殊类型。表示一个空对象引用。</p>
<p> 用 typeof 检测 null 返回是object。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">可以设置为 null 来清空对象:</span><br><span class="line">var person &#x3D; null;           &#x2F;&#x2F; 值为 null(空), 但类型为对象</span><br><span class="line">可以设置为 undefined 来清空对象:</span><br><span class="line">var person &#x3D; undefined;     &#x2F;&#x2F; 值为 undefined, 类型为 undefined</span><br></pre></td></tr></table></figure>

<h3 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h3><p>在 JavaScript 中, undefined 是一个没有设置值的变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">typeof 一个没有值的变量会返回 undefined。</span><br><span class="line">var person;                  &#x2F;&#x2F; 值为 undefined(空), 类型是undefined</span><br><span class="line"></span><br><span class="line">任何变量都可以通过设置值为 undefined 来清空。 类型为 undefined.</span><br><span class="line">person &#x3D; undefined;          &#x2F;&#x2F; 值为 undefined, 类型是undefined</span><br></pre></td></tr></table></figure>

<h3 id="undefined和null的区别"><a href="#undefined和null的区别" class="headerlink" title="undefined和null的区别"></a>undefined和null的区别</h3><p>null 和 undefined 的值相等，但类型不等：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">typeof undefined             &#x2F;&#x2F; undefined</span><br><span class="line">typeof null                  &#x2F;&#x2F; object</span><br><span class="line">null &#x3D;&#x3D;&#x3D; undefined           &#x2F;&#x2F; false</span><br><span class="line">null &#x3D;&#x3D; undefined            &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>1、定义</strong></p>
<p>（1）undefined：是所有没有赋值变量的默认值，自动赋值。</p>
<p>（2）null：主动释放一个变量引用的对象，表示一个变量不再指向任何对象地址。</p>
<p><strong>2、何时使用null?</strong></p>
<p>当使用完一个比较大的对象时，需要对其进行释放内存时，设置为 null。</p>
<p><strong>3、null 与 undefined 的异同点是什么呢？</strong></p>
<p><strong>共同点</strong>：都是原始类型，保存在栈中变量本地。</p>
<p>不同点：</p>
<p>（1）undefined——表示变量声明过但并未赋过值。</p>
<p>它是所有未赋值变量默认值，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;var a;    &#x2F;&#x2F; a 自动被赋值为 undefined</span><br></pre></td></tr></table></figure>

<p>（2）null——表示一个变量将来可能指向一个对象。</p>
<p>一般用于主动释放指向对象的引用，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;var emps &#x3D; [&#39;ss&#39;,&#39;nn&#39;];</span><br><span class="line">&gt;emps &#x3D; null;     &#x2F;&#x2F; 释放指向数组的引用</span><br></pre></td></tr></table></figure>

<p>4、延伸——垃圾回收站</p>
<p>它是专门释放对象内存的一个程序。</p>
<p>（1）在底层，后台伴随当前程序同时运行；引擎会定时自动调用垃圾回收期；</p>
<p>（2）总有一个对象不再被任何变量引用时，才释放。</p>
</blockquote>
<h2 id="JavaScript类型转换"><a href="#JavaScript类型转换" class="headerlink" title="JavaScript类型转换"></a>JavaScript类型转换</h2><p>Number() 转换为数字， String() 转换为字符串， Boolean() 转换为布尔值。</p>
<h3 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h3><p>在 JavaScript 中有 6 种不同的数据类型：</p>
<ul>
<li>string</li>
<li>number</li>
<li>boolean</li>
<li>object</li>
<li>function</li>
<li>symbol</li>
</ul>
<p>3 种对象类型：</p>
<ul>
<li>Object</li>
<li>Date</li>
<li>Array</li>
</ul>
<p>2 个不包含任何值的数据类型：</p>
<ul>
<li>null</li>
<li>undefined</li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>JavaScript 变量可以转换为新变量或其他数据类型：</p>
<p>通过使用 JavaScript 函数</p>
<p>通过 JavaScript 自身自动转换</p>
<h3 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符+"></a>一元运算符+</h3><p><strong>Operator +</strong> 可用于将变量转换为数字：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var y &#x3D; &quot;5&quot;;      &#x2F;&#x2F; y 是一个字符串</span><br><span class="line">var x &#x3D; + y;      &#x2F;&#x2F; x 是一个数字</span><br></pre></td></tr></table></figure>

<p>如果变量不能转换，它仍然会是一个数字，但值为 NaN (不是一个数字):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var y &#x3D; &quot;John&quot;;   &#x2F;&#x2F; y 是一个字符串</span><br><span class="line">var x &#x3D; + y;      &#x2F;&#x2F; x 是一个数字 (NaN)</span><br></pre></td></tr></table></figure>

<h3 id="自动转换类型"><a href="#自动转换类型" class="headerlink" title="自动转换类型"></a>自动转换类型</h3><p>当 JavaScript 尝试操作一个 “错误” 的数据类型时，会自动转换为 “正确” 的数据类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5 + null    &#x2F;&#x2F; 返回 5         null 转换为 0</span><br><span class="line">&quot;5&quot; + null  &#x2F;&#x2F; 返回&quot;5null&quot;   null 转换为 &quot;null&quot;</span><br><span class="line">&quot;5&quot; + 1     &#x2F;&#x2F; 返回 &quot;51&quot;      1 转换为 &quot;1&quot; </span><br><span class="line">&quot;5&quot; - 1     &#x2F;&#x2F; 返回 4         &quot;5&quot; 转换为 5</span><br></pre></td></tr></table></figure>

<h3 id="自动转换为字符串"><a href="#自动转换为字符串" class="headerlink" title="自动转换为字符串"></a>自动转换为字符串</h3><p>当你尝试输出一个对象或一个变量时 JavaScript 会自动调用变量的 toString() 方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&quot;demo&quot;).innerHTML &#x3D; myVar;</span><br><span class="line"></span><br><span class="line">myVar &#x3D; &#123;name:&quot;Fjohn&quot;&#125;  &#x2F;&#x2F; toString 转换为 &quot;[object Object]&quot;</span><br><span class="line">myVar &#x3D; [1,2,3,4]       &#x2F;&#x2F; toString 转换为 &quot;1,2,3,4&quot;</span><br><span class="line">myVar &#x3D; new Date()      &#x2F;&#x2F; toString 转换为 &quot;Fri Jul 18 2014 09:08:55 GMT+0200&quot;</span><br><span class="line">数字和布尔值也经常相互转换：</span><br><span class="line">myVar &#x3D; 123             &#x2F;&#x2F; toString 转换为 &quot;123&quot;</span><br><span class="line">myVar &#x3D; true            &#x2F;&#x2F; toString 转换为 &quot;true&quot;</span><br><span class="line">myVar &#x3D; false           &#x2F;&#x2F; toString 转换为 &quot;false&quot;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript正则表达式"><a href="#JavaScript正则表达式" class="headerlink" title="JavaScript正则表达式"></a>JavaScript正则表达式</h2><p>正则表达式（英语：Regular Expression，在代码中常简写为regex、regexp或RE）使用单个字符串来描述、匹配一系列符合某个句法规则的字符串搜索模式。</p>
<p>搜索模式可用于文本搜索和文本替换。</p>
<h3 id="什么是正则表达式"><a href="#什么是正则表达式" class="headerlink" title="什么是正则表达式"></a>什么是正则表达式</h3><p>正则表达式是由一个字符序列形成的搜索模式。</p>
<p>当你在文本中搜索数据时，你可以用搜索模式来描述你要查询的内容。</p>
<p>正则表达式可以是一个简单的字符，或一个更复杂的模式。</p>
<p>正则表达式可用于所有文本搜索和文本替换的操作。</p>
<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><p>/正则表达式主体/修饰符(可选)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">实例:</span><br><span class="line">var patt &#x3D; &#x2F;runoob&#x2F;i</span><br><span class="line"></span><br><span class="line">实例解析：</span><br><span class="line">&#x2F;runoob&#x2F;i  是一个正则表达式。</span><br><span class="line">runoob  是一个正则表达式主体 (用于检索)。</span><br><span class="line">i  是一个修饰符 (搜索不区分大小写)。</span><br></pre></td></tr></table></figure>

<h3 id="使用字符串方法"><a href="#使用字符串方法" class="headerlink" title="使用字符串方法"></a>使用字符串方法</h3><p>在 JavaScript 中，正则表达式通常用于两个字符串方法 : search() 和 replace()。</p>
<p><strong>search() 方法</strong> 用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串，并返回子串的起始位置。</p>
<p><strong>replace() 方法</strong> 用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。</p>
<h3 id="search-方法使用正则表达式"><a href="#search-方法使用正则表达式" class="headerlink" title="search()方法使用正则表达式"></a>search()方法使用正则表达式</h3><p>使用正则表达式搜索 “Runoob” 字符串，且不区分大小写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str &#x3D; &quot;Visit Runoob!&quot;; </span><br><span class="line">var n &#x3D; str.search(&#x2F;Runoob&#x2F;i);   &#x2F;&#x2F;输出结果为:6</span><br></pre></td></tr></table></figure>

<h3 id="search-方法使用字符串"><a href="#search-方法使用字符串" class="headerlink" title="search()方法使用字符串"></a>search()方法使用字符串</h3><p>search 方法可使用字符串作为参数。字符串参数会转换为正则表达式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str &#x3D; &quot;Visit Runoob!&quot;; </span><br><span class="line">var n &#x3D; str.search(&quot;Runoob&quot;);  &#x2F;&#x2F;输出结果为:6</span><br></pre></td></tr></table></figure>

<h3 id="replace-方法使用正则表达式"><a href="#replace-方法使用正则表达式" class="headerlink" title="replace()方法使用正则表达式"></a>replace()方法使用正则表达式</h3><p>使用正则表达式且不区分大小写将字符串中的 Microsoft 替换为 Runoob :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str &#x3D; document.getElementById(&quot;demo&quot;).innerHTML; </span><br><span class="line">var txt &#x3D; str.replace(&#x2F;microsoft&#x2F;i,&quot;Runoob&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="replace-方法使用字符串"><a href="#replace-方法使用字符串" class="headerlink" title="replace()方法使用字符串"></a>replace()方法使用字符串</h3><p>replace() 方法将接收字符串作为参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str &#x3D; document.getElementById(&quot;demo&quot;).innerHTML; </span><br><span class="line">var txt &#x3D; str.replace(&quot;Microsoft&quot;,&quot;Runoob&quot;);</span><br></pre></td></tr></table></figure>

<p>正则表达式参数可用在以上方法中 (替代字符串参数)。<br>正则表达式使得搜索功能更加强大(如实例中不区分大小写)。</p>
<h3 id="正则表达式修饰符"><a href="#正则表达式修饰符" class="headerlink" title="正则表达式修饰符"></a>正则表达式修饰符</h3><table>
<thead>
<tr>
<th align="left">修饰符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">i</td>
<td align="left">执行对大小写不敏感的匹配。</td>
</tr>
<tr>
<td align="left">g</td>
<td align="left">执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td>
</tr>
<tr>
<td align="left">m</td>
<td align="left">执行多行匹配。</td>
</tr>
</tbody></table>
<h3 id="正则表达式模式"><a href="#正则表达式模式" class="headerlink" title="正则表达式模式"></a>正则表达式模式</h3><p>方括号用于查找某个范围内的字符：</p>
<table>
<thead>
<tr>
<th align="left">表达式</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[abc]</td>
<td align="left">查找方括号之间的任何字符。</td>
</tr>
<tr>
<td align="left">[^abc]</td>
<td align="left">查找任何不在方括号之间的字符。</td>
</tr>
<tr>
<td align="left">[0-9]</td>
<td align="left">查找任何从 0 至 9 的数字。</td>
</tr>
<tr>
<td align="left">[a-z]</td>
<td align="left">查找任何从小写 a 到小写 z 的字符。</td>
</tr>
<tr>
<td align="left">[A-Z]</td>
<td align="left">查找任何从大写 A 到大写 Z 的字符。</td>
</tr>
<tr>
<td align="left">[A-z]</td>
<td align="left">查找任何从大写 A 到小写 z 的字符。</td>
</tr>
<tr>
<td align="left">[adgk]</td>
<td align="left">查找给定集合内的任何字符。</td>
</tr>
<tr>
<td align="left">[^adgk]</td>
<td align="left">查找给定集合外的任何字符。</td>
</tr>
<tr>
<td align="left">(red|blue|green)</td>
<td align="left">查找任何指定的选项。</td>
</tr>
</tbody></table>
<p>元字符是拥有特殊含义的字符：</p>
<table>
<thead>
<tr>
<th align="left">元字符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-dot.html" target="_blank" rel="noopener">.</a></td>
<td align="left">查找单个字符，除了换行和行结束符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-wordchar.html" target="_blank" rel="noopener">\w</a></td>
<td align="left">查找数字、字母及下划线。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-wordchar-non.html" target="_blank" rel="noopener">\W</a></td>
<td align="left">查找非单词字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-digit.html" target="_blank" rel="noopener">\d</a></td>
<td align="left">查找数字。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-digit-non.html" target="_blank" rel="noopener">\D</a></td>
<td align="left">查找非数字字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-whitespace.html" target="_blank" rel="noopener">\s</a></td>
<td align="left">查找空白字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-whitespace-non.html" target="_blank" rel="noopener">\S</a></td>
<td align="left">查找非空白字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-begin.html" target="_blank" rel="noopener">\b</a></td>
<td align="left">匹配单词边界。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-begin-not.html" target="_blank" rel="noopener">\B</a></td>
<td align="left">匹配非单词边界。</td>
</tr>
<tr>
<td align="left">\0</td>
<td align="left">查找 NULL 字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-newline.html" target="_blank" rel="noopener">\n</a></td>
<td align="left">查找换行符。</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">查找换页符。</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">查找回车符。</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">查找制表符。</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">查找垂直制表符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-octal.html" target="_blank" rel="noopener">\xxx</a></td>
<td align="left">查找以八进制数 xxx 规定的字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-hex.html" target="_blank" rel="noopener">\xdd</a></td>
<td align="left">查找以十六进制数 dd 规定的字符。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-unicode-hex.html" target="_blank" rel="noopener">\uxxxx</a></td>
<td align="left">查找以十六进制数 xxxx 规定的 Unicode 字符。</td>
</tr>
</tbody></table>
<p>量词:</p>
<table>
<thead>
<tr>
<th align="left">量词</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-onemore.html" target="_blank" rel="noopener">n+</a></td>
<td align="left">匹配任何包含至少一个 n 的字符串。例如，/a+/ 匹配 “candy” 中的 “a”，”caaaaaaandy” 中所有的 “a”。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-zeromore.html" target="_blank" rel="noopener">n*</a></td>
<td align="left">匹配任何包含零个或多个 n 的字符串。例如，/bo*/ 匹配 “A ghost booooed” 中的 “boooo”，”A bird warbled” 中的 “b”，但是不匹配 “A goat grunted”。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-zeroone.html" target="_blank" rel="noopener">n?</a></td>
<td align="left">匹配任何包含零个或一个 n 的字符串。例如，/e?le?/ 匹配 “angel” 中的 “el”，”angle” 中的 “le”。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-nx.html" target="_blank" rel="noopener">n{X}</a></td>
<td align="left">匹配包含 X 个 n 的序列的字符串。例如，/a{2}/ 不匹配 “candy,” 中的 “a”，但是匹配 “caandy,” 中的两个 “a”，且匹配 “caaandy.” 中的前两个 “a”。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-nxcomma.html" target="_blank" rel="noopener">n{X,}</a></td>
<td align="left">X 是一个正整数。前面的模式 n 连续出现至少 X 次时匹配。例如，/a{2,}/ 不匹配 “candy” 中的 “a”，但是匹配 “caandy” 和 “caaaaaaandy.” 中所有的 “a”。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-nxy.html" target="_blank" rel="noopener">n{X,Y}</a></td>
<td align="left">X 和 Y 为正整数。前面的模式 n 连续出现至少 X 次，至多 Y 次时匹配。例如，/a{1,3}/ 不匹配 “cndy”，匹配 “candy,” 中的 “a”，”caandy,” 中的两个 “a”，匹配 “caaaaaaandy” 中的前面三个 “a”。注意，当匹配 “caaaaaaandy” 时，即使原始字符串拥有更多的 “a”，匹配项也是 “aaa”。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-ndollar.html" target="_blank" rel="noopener">n$</a></td>
<td align="left">匹配任何结尾为 n 的字符串。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-ncaret.html" target="_blank" rel="noopener">^n</a></td>
<td align="left">匹配任何开头为 n 的字符串。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-nfollow.html" target="_blank" rel="noopener">?=n</a></td>
<td align="left">匹配任何其后紧接指定字符串 n 的字符串。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/jsref/jsref-regexp-nfollow-not.html" target="_blank" rel="noopener">?!n</a></td>
<td align="left">匹配任何其后没有紧接指定字符串 n 的字符串。</td>
</tr>
</tbody></table>
<h3 id="使用RegExp对象"><a href="#使用RegExp对象" class="headerlink" title="使用RegExp对象"></a>使用RegExp对象</h3><p>在 JavaScript 中，RegExp 对象是一个预定义了属性和方法的正则表达式对象。</p>
<h3 id="使用test"><a href="#使用test" class="headerlink" title="使用test()"></a>使用test()</h3><p>test() 方法是一个正则表达式方法。</p>
<p>test() 方法用于检测一个字符串是否匹配某个模式，如果字符串中含有匹配的文本，则返回 true，否则返回 false。</p>
<p>以下实例用于搜索字符串中的字符 “e”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var patt &#x3D; &#x2F;e&#x2F;;</span><br><span class="line">patt.test(&quot;The best things in life are free!&quot;);  &#x2F;&#x2F;结果为true</span><br><span class="line"></span><br><span class="line">可以不用设置正则表达式的变量，以上两行代码可以合并为一行:</span><br><span class="line">&#x2F;e&#x2F;.test(&quot;The best things in life are free!&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="使用exec"><a href="#使用exec" class="headerlink" title="使用exec()"></a>使用exec()</h3><p>exec() 方法是一个正则表达式方法。</p>
<p>exec() 方法用于检索字符串中的正则表达式的匹配。</p>
<p>该函数返回一个数组，其中存放匹配的结果。如果未找到匹配，则返回值为 null。</p>
<p>以下实例用于搜索字符串中的字母 “e”:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;e&#x2F;.exec(&quot;The best things in life are free!&quot;);</span><br><span class="line">&#x2F;&#x2F;字符串中含有 &quot;e&quot;，所以该实例输出为:e</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript错误"><a href="#JavaScript错误" class="headerlink" title="JavaScript错误"></a>JavaScript错误</h2><p><strong>try</strong> 语句测试代码块的错误。</p>
<p><strong>catch</strong> 语句处理错误。</p>
<p><strong>throw</strong> 语句创建自定义错误。</p>
<p><strong>finally</strong> 语句在 try 和 catch 语句之后，无论是否有触发异常，该语句都会执行。</p>
<h3 id="JavaScript错误-1"><a href="#JavaScript错误-1" class="headerlink" title="JavaScript错误"></a>JavaScript错误</h3><p>当 JavaScript 引擎执行 JavaScript 代码时，会发生各种错误。</p>
<p>可能是语法错误，通常是程序员造成的编码错误或错别字。</p>
<p>可能是拼写错误或语言中缺少的功能（可能由于浏览器差异）。</p>
<p>可能是由于来自服务器或用户的错误输出而导致的错误。</p>
<p>当然，也可能是由于许多其他不可预知的因素。</p>
<h3 id="JavaScript抛出-throw-错误"><a href="#JavaScript抛出-throw-错误" class="headerlink" title="JavaScript抛出 (throw) 错误"></a>JavaScript抛出 (throw) 错误</h3><p>当错误发生时，当事情出问题时，JavaScript 引擎通常会停止，并生成一个错误消息。</p>
<p>描述这种情况的技术术语是：JavaScript 将<strong>抛出</strong>一个错误。</p>
<p>throw 语句允许我们创建自定义错误。</p>
<p>正确的技术术语是：创建或<strong>抛出异常</strong>（exception）。</p>
<p>如果把 throw 与 try 和 catch 一起使用，那么您能够控制程序流，并生成自定义的错误消息。</p>
<p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">throw exception</span><br></pre></td></tr></table></figure>

<p>异常可以是 JavaScript 字符串、数字、逻辑值或对象。</p>
<p>检测输入变量的值。如果值是错误的，会抛出一个异常（错误）。catch 会捕捉到这个错误，并显示一段自定义的错误消息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function myFunction() &#123;</span><br><span class="line">    var message, x;</span><br><span class="line">    message &#x3D; document.getElementById(&quot;message&quot;);</span><br><span class="line">    message.innerHTML &#x3D; &quot;&quot;;</span><br><span class="line">    x &#x3D; document.getElementById(&quot;demo&quot;).value;</span><br><span class="line">    try &#123; </span><br><span class="line">        if(x &#x3D;&#x3D; &quot;&quot;)  throw &quot;值为空&quot;;</span><br><span class="line">        if(isNaN(x)) throw &quot;不是数字&quot;;</span><br><span class="line">        x &#x3D; Number(x);</span><br><span class="line">        if(x &lt; 5)    throw &quot;太小&quot;;</span><br><span class="line">        if(x &gt; 10)   throw &quot;太大&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    catch(err) &#123;</span><br><span class="line">        message.innerHTML &#x3D; &quot;错误: &quot; + err;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JavaScript-try-和-catch"><a href="#JavaScript-try-和-catch" class="headerlink" title="JavaScript try 和 catch"></a>JavaScript try 和 catch</h3><p><strong>try</strong> 语句允许我们定义在执行时进行错误测试的代码块。</p>
<p><strong>catch</strong> 语句允许我们定义当 try 代码块发生错误时，所执行的代码块。</p>
<p>JavaScript 语句 <strong>try</strong> 和 <strong>catch</strong> 是成对出现的。</p>
<p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    ...    &#x2F;&#x2F;异常的抛出</span><br><span class="line">&#125; catch(err) &#123;</span><br><span class="line">    ...    &#x2F;&#x2F;异常的捕获与处理</span><br><span class="line">&#125; finally &#123;</span><br><span class="line">    ...    &#x2F;&#x2F;结束处理</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<p>故意在 try 块的代码中写了一个错字。</p>
<p>catch 块会捕捉到 try 块中的错误，并执行代码来处理它。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var txt&#x3D;&quot;&quot;; </span><br><span class="line">function message() </span><br><span class="line">&#123; </span><br><span class="line">    try &#123; </span><br><span class="line">        adddlert(&quot;Welcome guest!&quot;); </span><br><span class="line">    &#125; catch(err) &#123; </span><br><span class="line">        txt&#x3D;&quot;本页有一个错误。\n\n&quot;; </span><br><span class="line">        txt+&#x3D;&quot;错误描述：&quot; + err.message + &quot;\n\n&quot;; </span><br><span class="line">        txt+&#x3D;&quot;点击确定继续。\n\n&quot;; </span><br><span class="line">        alert(txt); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>finally语句</p>
<p>finally 语句不论之前的 try 和 catch 中是否产生异常都会执行该代码块。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function myFunction() &#123;</span><br><span class="line">  var message, x;</span><br><span class="line">  message &#x3D; document.getElementById(&quot;p01&quot;);</span><br><span class="line">  message.innerHTML &#x3D; &quot;&quot;;</span><br><span class="line">  x &#x3D; document.getElementById(&quot;demo&quot;).value;</span><br><span class="line">  try &#123; </span><br><span class="line">    if(x &#x3D;&#x3D; &quot;&quot;) throw &quot;值是空的&quot;;</span><br><span class="line">    if(isNaN(x)) throw &quot;值不是一个数字&quot;;</span><br><span class="line">    x &#x3D; Number(x);</span><br><span class="line">    if(x &gt; 10) throw &quot;太大&quot;;</span><br><span class="line">    if(x &lt; 5) throw &quot;太小&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  catch(err) &#123;</span><br><span class="line">    message.innerHTML &#x3D; &quot;错误: &quot; + err + &quot;.&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  finally &#123;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).value &#x3D; &quot;&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript调试"><a href="#JavaScript调试" class="headerlink" title="JavaScript调试"></a>JavaScript调试</h2><p>没有调试工具是很难去编写 JavaScript 程序的。</p>
<p>你的代码可能包含语法错误，逻辑错误，如果没有调试工具，这些错误比较难于发现。</p>
<p>通常，如果 JavaScript 出现错误，是不会有提示信息，这样你就无法找到代码错误的位置。</p>
<h3 id="JavaScript调试工具"><a href="#JavaScript调试工具" class="headerlink" title="JavaScript调试工具"></a>JavaScript调试工具</h3><p>浏览器启用调试工具一般是按下 F12 键，并在调试菜单中选择 “Console” 。</p>
<p>如果浏览器支持调试，你可以使用 console.log() 方法在调试窗口上打印 JavaScript 值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; 5;</span><br><span class="line">b &#x3D; 6;</span><br><span class="line">c &#x3D; a + b;</span><br><span class="line">console.log(c);</span><br></pre></td></tr></table></figure>

<h3 id="设置断点"><a href="#设置断点" class="headerlink" title="设置断点"></a>设置断点</h3><p>在调试窗口中，你可以设置 JavaScript 代码的断点。</p>
<p>在每个断点上，都会停止执行 JavaScript 代码，以便于我们检查 JavaScript 变量的值。</p>
<p>在检查完毕后，可以重新执行代码（如播放按钮）。</p>
<h3 id="debbuuger关键字"><a href="#debbuuger关键字" class="headerlink" title="debbuuger关键字"></a>debbuuger关键字</h3><p><strong>debugger</strong> 关键字用于停止执行 JavaScript，并调用调试函数。</p>
<p>这个关键字与在调试工具中设置断点的效果是一样的。</p>
<p>如果没有调试可用，debugger 语句将无法工作。</p>
<p>开启 debugger ，代码在第三行前停止执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 15 * 5;</span><br><span class="line">debugger;</span><br><span class="line">document.getElementbyId(&quot;demo&quot;).innerHTML &#x3D; x;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript变量提升"><a href="#JavaScript变量提升" class="headerlink" title="JavaScript变量提升"></a>JavaScript变量提升</h2><h3 id="JavaScript声明提升"><a href="#JavaScript声明提升" class="headerlink" title="JavaScript声明提升"></a>JavaScript声明提升</h3><p>JavaScript 中，函数及变量的声明都将被提升到函数的最顶部。</p>
<p>JavaScript 中，变量可以在使用后声明，也就是变量可以先使用再声明。</p>
<p>以下两个实例将获得相同的结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x &#x3D; 5; &#x2F;&#x2F; 变量 x 设置为 5</span><br><span class="line"></span><br><span class="line">elem &#x3D; document.getElementById(&quot;demo&quot;); &#x2F;&#x2F; 查找元素</span><br><span class="line">elem.innerHTML &#x3D; x;                     &#x2F;&#x2F; 在元素中显示 x</span><br><span class="line"></span><br><span class="line">var x; &#x2F;&#x2F; 声明 x</span><br></pre></td></tr></table></figure>

<p>要理解以上实例就需要理解 “hoisting(声明提升)”。</p>
<p>声明提升：函数声明和变量声明总是会被解释器悄悄地被”提升”到方法体的最顶部。</p>
<h3 id="JavaScript初始化不会提升"><a href="#JavaScript初始化不会提升" class="headerlink" title="JavaScript初始化不会提升"></a>JavaScript初始化不会提升</h3><p>JavaScript 只有声明的变量会提升，初始化的不会。</p>
<p>以下两个实例结果结果不相同：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 5; &#x2F;&#x2F; 初始化 x</span><br><span class="line">var y &#x3D; 7; &#x2F;&#x2F; 初始化 y</span><br><span class="line"></span><br><span class="line">elem &#x3D; document.getElementById(&quot;demo&quot;); &#x2F;&#x2F; 查找元素</span><br><span class="line">elem.innerHTML &#x3D; x + &quot; &quot; + y;           &#x2F;&#x2F; 显示 x 和 y</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 5; &#x2F;&#x2F; 初始化 x</span><br><span class="line"></span><br><span class="line">elem &#x3D; document.getElementById(&quot;demo&quot;); &#x2F;&#x2F; 查找元素</span><br><span class="line">elem.innerHTML &#x3D; x + &quot; &quot; + y;           &#x2F;&#x2F; 显示 x 和 y</span><br><span class="line"></span><br><span class="line">var y &#x3D; 7; &#x2F;&#x2F; 初始化 y</span><br></pre></td></tr></table></figure>

<p>实例 2 的 y 输出了 <strong>undefined</strong>，这是因为变量声明 (var y) 提升了，但是初始化(y = 7) 并不会提升，所以 y 变量是一个未定义的变量。</p>
<p>实例 2 类似以下代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 5; &#x2F;&#x2F; 初始化 x</span><br><span class="line">var y;     &#x2F;&#x2F; 声明 y</span><br><span class="line"></span><br><span class="line">elem &#x3D; document.getElementById(&quot;demo&quot;); &#x2F;&#x2F; 查找元素</span><br><span class="line">elem.innerHTML &#x3D; x + &quot; &quot; + y;           &#x2F;&#x2F; 显示 x 和 y</span><br><span class="line"></span><br><span class="line">y &#x3D; 7;    &#x2F;&#x2F; 设置 y 为 7</span><br></pre></td></tr></table></figure>

<h3 id="在头部声明变量"><a href="#在头部声明变量" class="headerlink" title="在头部声明变量"></a>在头部声明变量</h3><p>对于大多数程序员来说并不知道 JavaScript 声明提升。</p>
<p>如果程序员不能很好的理解声明提升，他们写的程序就容易出现一些问题。</p>
<p>为了避免这些问题，通常我们在每个作用域开始前声明这些变量，这也是正常的 JavaScript 解析步骤，易于我们理解。</p>
<p> JavaScript 严格模式(strict mode)不允许使用未声明的变量。</p>
<h2 id="JavaScript严格模式"><a href="#JavaScript严格模式" class="headerlink" title="JavaScript严格模式"></a>JavaScript严格模式</h2><p>JavaScript 严格模式（strict mode）即在严格的条件下运行。</p>
<h3 id="使用”use-strict”指令"><a href="#使用”use-strict”指令" class="headerlink" title="使用”use strict”指令"></a>使用”use strict”指令</h3><p>“use strict” 指令在 JavaScript 1.8.5 (ECMAScript5) 中新增。</p>
<p>它不是一条语句，但是是一个字面量表达式，在 JavaScript 旧版本中会被忽略。</p>
<p>“use strict” 的目的是指定代码在严格条件下执行。</p>
<p>严格模式下你不能使用未声明的变量。</p>
<h3 id="严格模式声明"><a href="#严格模式声明" class="headerlink" title="严格模式声明"></a>严格模式声明</h3><p>严格模式通过在脚本或函数的头部添加 <strong>use strict</strong>; 表达式来声明。</p>
<p>“use strict” 指令只允许出现在脚本或函数的开头。</p>
<p>实例中我们可以在浏览器按下 <strong>F12 (或点击”工具&gt;更多工具&gt;开发者工具”)</strong> 开启调试模式，查看报错信息。</p>
<p><img src="https://gitee.com/hollow-heart/typora-image/raw/master/image-20210410164621726.png" alt="image-20210410164621726"></p>
<p>在函数内部声明是局部作用域 (只在函数内使用严格模式):</p>
<p><img src="https://gitee.com/hollow-heart/typora-image/raw/master/image-20210410164702737.png" alt="image-20210410164702737"></p>
<p>为什么使用严格模式:</p>
<p>消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;</p>
<p>消除代码运行的一些不安全之处，保证代码运行的安全；</p>
<p>提高编译器效率，增加运行速度；</p>
<p>为未来新版本的Javascript做好铺垫。</p>
<p>“严格模式”体现了Javascript更合理、更安全、更严谨的发展方向，包括IE 10在内的主流浏览器，都已经支持它，许多大项目已经开始全面拥抱它。</p>
<p>另一方面，同样的代码，在”严格模式”中，可能会有不一样的运行结果；一些在”正常模式”下可以运行的语句，在”严格模式”下将不能运行。掌握这些内容，有助于更细致深入地理解Javascript，让你变成一个更好的程序员。</p>
<h3 id="严格模式的限制"><a href="#严格模式的限制" class="headerlink" title="严格模式的限制"></a>严格模式的限制</h3><p>不允许使用未声明的变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">x &#x3D; 3.14;                &#x2F;&#x2F; 报错 (x 未定义)</span><br></pre></td></tr></table></figure>

<p>不允许删除变量或对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var x &#x3D; 3.14;</span><br><span class="line">delete x;                &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许删除函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">function x(p1, p2) &#123;&#125;;</span><br><span class="line">delete x;                &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许变量重名:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">function x(p1, p1) &#123;&#125;;   &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许使用八进制:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var x &#x3D; 010;             &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许使用转义字符:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var x &#x3D; \010;            &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许对只读属性赋值:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var obj &#x3D; &#123;&#125;;</span><br><span class="line">Object.defineProperty(obj, &quot;x&quot;, &#123;value:0, writable:false&#125;);</span><br><span class="line"></span><br><span class="line">obj.x &#x3D; 3.14;            &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许对一个使用getter方法读取的属性进行赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var obj &#x3D; &#123;get x() &#123;return 0&#125; &#125;;</span><br><span class="line"></span><br><span class="line">obj.x &#x3D; 3.14;            &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许删除一个不允许删除的属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">delete Object.prototype; &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>变量名不能使用 “eval” 字符串:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var eval &#x3D; 3.14;         &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>变量名不能使用 “arguments” 字符串:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var arguments &#x3D; 3.14;    &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>不允许使用以下这种语句:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">with (Math)&#123;x &#x3D; cos(2)&#125;; &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>由于一些安全原因，在作用域 eval() 创建的变量不能被调用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">eval (&quot;var x &#x3D; 2&quot;);</span><br><span class="line">alert (x);               &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p>禁止this关键字指向全局对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function f()&#123;</span><br><span class="line">    return !this;</span><br><span class="line">&#125; </span><br><span class="line">&#x2F;&#x2F; 返回false，因为&quot;this&quot;指向全局对象，&quot;!this&quot;就是false</span><br><span class="line"></span><br><span class="line">function f()&#123; </span><br><span class="line">    &quot;use strict&quot;;</span><br><span class="line">    return !this;</span><br><span class="line">&#125; </span><br><span class="line">&#x2F;&#x2F; 返回true，因为严格模式下，this的值为undefined，所以&quot;!this&quot;为true。</span><br></pre></td></tr></table></figure>

<p>因此，使用构造函数时，如果忘了加new，this不再指向全局对象，而是报错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f()&#123;</span><br><span class="line">    &quot;use strict&quot;;</span><br><span class="line">    this.a &#x3D; 1;</span><br><span class="line">&#125;;</span><br><span class="line">f();&#x2F;&#x2F; 报错，this未定义</span><br></pre></td></tr></table></figure>

<h3 id="保留关键字"><a href="#保留关键字" class="headerlink" title="保留关键字"></a>保留关键字</h3><p>为了向将来Javascript的新版本过渡，严格模式新增了一些保留关键字：</p>
<p>implements</p>
<p>interface</p>
<p>let</p>
<p>package</p>
<p>private</p>
<p>protected</p>
<p>public</p>
<p>static</p>
<p>yield</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var public &#x3D; 1500;      &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript使用误区"><a href="#JavaScript使用误区" class="headerlink" title="JavaScript使用误区"></a>JavaScript使用误区</h2><h3 id="赋值运算符应用错误"><a href="#赋值运算符应用错误" class="headerlink" title="赋值运算符应用错误"></a>赋值运算符应用错误</h3><p>在 JavaScript 程序中如果你在 if 条件语句中使用赋值运算符的等号 (=) 将会产生一个错误结果, 正确的方法是使用比较运算符的两个等号 (==)。</p>
<h3 id="比较运算符常见错误"><a href="#比较运算符常见错误" class="headerlink" title="比较运算符常见错误"></a>比较运算符常见错误</h3><p>在常规的比较中，数据类型是被忽略的，以下 if 条件语句返回 true：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">var y &#x3D; &quot;10&quot;;</span><br><span class="line">if (x &#x3D;&#x3D; y)</span><br></pre></td></tr></table></figure>

<p>在严格的比较运算中，=== 为恒等计算符，同时检查表达式的值与类型，以下 if 条件语句返回 false：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">var y &#x3D; &quot;10&quot;;</span><br><span class="line">if (x &#x3D;&#x3D;&#x3D; y)</span><br></pre></td></tr></table></figure>

<p>这种错误经常会在 switch 语句中出现，switch 语句会使用恒等计算符(===)进行比较:</p>
<p>以下实例会执行 alert 弹窗：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">switch(x) &#123;</span><br><span class="line">    case 10: alert(&quot;Hello&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以下实例由于类型不一致不会执行 alert 弹窗：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">switch(x) &#123;</span><br><span class="line">    case &quot;10&quot;: alert(&quot;Hello&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="加法与连接注意事项"><a href="#加法与连接注意事项" class="headerlink" title="加法与连接注意事项"></a>加法与连接注意事项</h3><p><strong>加法</strong>是两个<strong>数字</strong>相加。</p>
<p><strong>连接</strong>是两个<strong>字符串</strong>连接。</p>
<p>JavaScript 的加法和连接都使用 + 运算符。</p>
<p>接下来我们可以通过实例查看两个数字相加及数字与字符串连接的区别：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10 + 5;          &#x2F;&#x2F; x 的结果为 15</span><br><span class="line">var x &#x3D; 10 + &quot;5&quot;;        &#x2F;&#x2F; x 的结果为 &quot;105&quot;</span><br></pre></td></tr></table></figure>

<h3 id="浮点型数据使用注意事项"><a href="#浮点型数据使用注意事项" class="headerlink" title="浮点型数据使用注意事项"></a>浮点型数据使用注意事项</h3><p>JavaScript 中的所有数据都是以 64 位<strong>浮点型数据(float)</strong> 来存储。</p>
<p>所有的编程语言，包括 JavaScript，对浮点型数据的精确度都很难确定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 0.1;</span><br><span class="line">var y &#x3D; 0.2;</span><br><span class="line">var z &#x3D; x + y            &#x2F;&#x2F; z 的结果为 0.30000000000000004</span><br><span class="line">if (z &#x3D;&#x3D; 0.3)            &#x2F;&#x2F; 返回 false</span><br></pre></td></tr></table></figure>

<p>为解决以上问题，可以用整数的乘除法来解决：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var z &#x3D; (x * 10 + y * 10) &#x2F; 10;       &#x2F;&#x2F; z 的结果为 0.3</span><br></pre></td></tr></table></figure>

<h3 id="Undefined不是Null"><a href="#Undefined不是Null" class="headerlink" title="Undefined不是Null"></a>Undefined不是Null</h3><p>在 JavaScript 中, <strong>null</strong> 用于对象, <strong>undefined</strong> 用于变量，属性和方法。</p>
<p>对象只有被定义才有可能为 null，否则为 undefined。</p>
<p>如果我们想测试对象是否存在，在对象还没定义时将会抛出一个错误。</p>
<p>错误的使用方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (myObj !&#x3D;&#x3D; null &amp;&amp; typeof myObj !&#x3D;&#x3D; &quot;undefined&quot;)</span><br></pre></td></tr></table></figure>

<p>正确的方式是我们需要先使用 typeof 来检测对象是否已定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (typeof myObj !&#x3D;&#x3D; &quot;undefined&quot; &amp;&amp; myObj !&#x3D;&#x3D; null)</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript表单"><a href="#JavaScript表单" class="headerlink" title="JavaScript表单"></a>JavaScript表单</h2><h3 id="JavaScript表单验证"><a href="#JavaScript表单验证" class="headerlink" title="JavaScript表单验证"></a>JavaScript表单验证</h3><p>HTML 表单验证可以通过 JavaScript 来完成。</p>
<p>以下实例代码用于判断表单字段(fname)值是否存在， 如果不存在，就弹出信息，阻止表单提交：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function validateForm() &#123;</span><br><span class="line">    var x &#x3D; document.forms[&quot;myForm&quot;][&quot;fname&quot;].value;</span><br><span class="line">    if (x &#x3D;&#x3D; null || x &#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">        alert(&quot;需要输入名字。&quot;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上 JavaScript 代码可以通过 HTML 代码来调用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form name&#x3D;&quot;myForm&quot; action&#x3D;&quot;demo_form.php&quot; onsubmit&#x3D;&quot;return validateForm()&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">名字: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;fname&quot;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>

<h3 id="JavaScript验证输入的数字"><a href="#JavaScript验证输入的数字" class="headerlink" title="JavaScript验证输入的数字"></a>JavaScript验证输入的数字</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;JavaScript 验证输入&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;p&gt;请输入 1 到 10 之间的数字：&lt;&#x2F;p&gt;</span><br><span class="line">&lt;input id&#x3D;&quot;numb&quot;&gt;</span><br><span class="line">&lt;button type&#x3D;&quot;button&quot; onclick&#x3D;&quot;myFunction()&quot;&gt;提交&lt;&#x2F;button&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;demo&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    var x, text;</span><br><span class="line">    &#x2F;&#x2F; 获取 id&#x3D;&quot;numb&quot; 的值</span><br><span class="line">    x &#x3D; document.getElementById(&quot;numb&quot;).value;</span><br><span class="line">    &#x2F;&#x2F; 如果输入的值 x 不是数字或者小于 1 或者大于 10，则提示错误 Not a Number or less than one or greater than 10</span><br><span class="line">    if (isNaN(x) || x &lt; 1 || x &gt; 10) &#123;</span><br><span class="line">        text &#x3D; &quot;输入错误&quot;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        text &#x3D; &quot;输入正确&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML &#x3D; text;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="E-mail验证"><a href="#E-mail验证" class="headerlink" title="E-mail验证"></a>E-mail验证</h3><p>下面的函数检查输入的数据是否符合电子邮件地址的基本语法。</p>
<p>意思就是说，输入的数据必须包含 @ 符号和点号(.)。同时，@ 不可以是邮件地址的首字符，并且 @ 之后需有至少一个点号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function validateForm()&#123;</span><br><span class="line">  var x&#x3D;document.forms[&quot;myForm&quot;][&quot;email&quot;].value;</span><br><span class="line">  var atpos&#x3D;x.indexOf(&quot;@&quot;);</span><br><span class="line">  var dotpos&#x3D;x.lastIndexOf(&quot;.&quot;);</span><br><span class="line">  if (atpos&lt;1 || dotpos&lt;atpos+2 || dotpos+2&gt;&#x3D;x.length)&#123;</span><br><span class="line">    alert(&quot;不是一个有效的 e-mail 地址&quot;);</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面是连同 HTML 表单的完整代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form name&#x3D;&quot;myForm&quot; action&#x3D;&quot;demo-form.php&quot; onsubmit&#x3D;&quot;return validateForm();&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">    Email: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;email&quot;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>

<h3 id="HTML表单自动验证"><a href="#HTML表单自动验证" class="headerlink" title="HTML表单自动验证"></a>HTML表单自动验证</h3><p>HTML 表单验证也可以通过浏览器来自动完成。</p>
<p>如果表单字段 (fname) 的值为空, <strong>required</strong> 属性会阻止表单提交：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action&#x3D;&quot;demo_form.php&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;fname&quot; required&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>

<h3 id="数据验证"><a href="#数据验证" class="headerlink" title="数据验证"></a>数据验证</h3><p>数据验证用于确保用户输入的数据是有效的。</p>
<p>典型的数据验证有：</p>
<p>必需字段是否有输入?</p>
<p>用户是否输入了合法的数据?</p>
<p>在数字字段是否输入了文本?</p>
<p>大多数情况下，数据验证用于确保用户正确输入数据。</p>
<p>数据验证可以使用不同方法来定义，并通过多种方式来调用。</p>
<p><strong>服务端数据验证</strong>是在数据提交到服务器上后再验证。</p>
<p><strong>客户端数据验证</strong>是在数据发送到服务器前，在浏览器上完成验证。</p>
<h3 id="HTML约束验证"><a href="#HTML约束验证" class="headerlink" title="HTML约束验证"></a>HTML约束验证</h3><p>HTML5 新增了 HTML 表单的验证方式：约束验证（constraint validation）。</p>
<p>约束验证是表单被提交时浏览器用来实现验证的一种算法。</p>
<p>HTML 约束验证基于：</p>
<p><strong>HTML 输入属性</strong></p>
<p><strong>CSS 伪类选择器</strong></p>
<p><strong>DOM 属性和方法</strong></p>
<p>约束验证THML输入属性</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">disabled</td>
<td align="left">规定输入的元素不可用</td>
</tr>
<tr>
<td align="left">max</td>
<td align="left">规定输入元素的最大值</td>
</tr>
<tr>
<td align="left">min</td>
<td align="left">规定输入元素的最小值</td>
</tr>
<tr>
<td align="left">pattern</td>
<td align="left">规定输入元素值的模式</td>
</tr>
<tr>
<td align="left">required</td>
<td align="left">规定输入元素字段是必需的</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">规定输入元素的类型</td>
</tr>
</tbody></table>
<p>约束验证CSS伪类选择器</p>
<table>
<thead>
<tr>
<th align="left">选择器</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">:disabled</td>
<td align="left">选取属性为 “disabled” 属性的 input 元素</td>
</tr>
<tr>
<td align="left">:invalid</td>
<td align="left">选取无效的 input 元素</td>
</tr>
<tr>
<td align="left">:optional</td>
<td align="left">选择没有”optional”属性的 input 元素</td>
</tr>
<tr>
<td align="left">:required</td>
<td align="left">选择有”required”属性的 input 元素</td>
</tr>
<tr>
<td align="left">:valid</td>
<td align="left">选取有效值的 input 元素</td>
</tr>
</tbody></table>
<h2 id="JavaScript验证API"><a href="#JavaScript验证API" class="headerlink" title="JavaScript验证API"></a>JavaScript验证API</h2><h3 id="约束验证DOM方法"><a href="#约束验证DOM方法" class="headerlink" title="约束验证DOM方法"></a>约束验证DOM方法</h3><table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">checkValidity()</td>
<td align="left">如果 input 元素中的数据是合法的返回 true，否则返回 false。</td>
</tr>
<tr>
<td align="left">setCustomValidity()</td>
<td align="left">设置 input 元素的 validationMessage 属性，用于自定义错误提示信息的方法。使用 setCustomValidity 设置了自定义提示后，validity.customError 就会变成true，则 checkValidity 总是会返回false。如果要重新判断需要取消自定义提示，方式如下：<code>setCustomValidity(&#39;&#39;)  setCustomValidity(null)  setCustomValidity(undefined)</code></td>
</tr>
</tbody></table>
<p>以下实例如果输入信息不合法，则返回错误信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id&#x3D;&quot;id1&quot; type&#x3D;&quot;number&quot; min&#x3D;&quot;100&quot; max&#x3D;&quot;300&quot; required&gt;</span><br><span class="line">&lt;button onclick&#x3D;&quot;myFunction()&quot;&gt;验证&lt;&#x2F;button&gt;</span><br><span class="line"> </span><br><span class="line">&lt;p id&#x3D;&quot;demo&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    var inpObj &#x3D; document.getElementById(&quot;id1&quot;);</span><br><span class="line">    if (inpObj.checkValidity() &#x3D;&#x3D; false) &#123;</span><br><span class="line">        document.getElementById(&quot;demo&quot;).innerHTML &#x3D; inpObj.validationMessage;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>setCustomValidity 的用法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var inpObj &#x3D; document.getElementById(&quot;id1&quot;);</span><br><span class="line">inpObj.setCustomValidity(&#39;&#39;); &#x2F;&#x2F; 使用前先取消自定义，否则下次点击checkValidity总返false</span><br><span class="line">if (inpObj.checkValidity() &#x3D;&#x3D; false) &#123;</span><br><span class="line">    if(inpObj.value&#x3D;&#x3D;&quot;&quot;)&#123;</span><br><span class="line">        inpObj.setCustomValidity(&quot;不能为空！&quot;);</span><br><span class="line">    &#125;else if(inpObj.value&lt;100 || inpObj.value&gt;300)&#123;</span><br><span class="line">        inpObj.setCustomValidity(&quot;请重新输入数值（100~300之间）!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML &#x3D; inpObj.validationMessage;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML &#x3D; &quot;输入正确&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="约束验证DOM属性"><a href="#约束验证DOM属性" class="headerlink" title="约束验证DOM属性"></a>约束验证DOM属性</h3><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">validity</td>
<td align="left">布尔属性值，返回 input 输入值是否合法</td>
</tr>
<tr>
<td align="left">validationMessage</td>
<td align="left">浏览器错误提示信息</td>
</tr>
<tr>
<td align="left">willValidate</td>
<td align="left">指定 input 是否需要验证</td>
</tr>
</tbody></table>
<h3 id="Validity属性"><a href="#Validity属性" class="headerlink" title="Validity属性"></a>Validity属性</h3><p>input 元素的 <strong>validity 属性</strong>包含一系列关于 validity 数据属性:</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">customError</td>
<td align="left">设置为 true, 如果设置了自定义的 validity 信息。</td>
</tr>
<tr>
<td align="left">patternMismatch</td>
<td align="left">设置为 true, 如果元素的值不匹配它的模式属性。</td>
</tr>
<tr>
<td align="left">rangeOverflow</td>
<td align="left">设置为 true, 如果元素的值大于设置的最大值。</td>
</tr>
<tr>
<td align="left">rangeUnderflow</td>
<td align="left">设置为 true, 如果元素的值小于它的最小值。</td>
</tr>
<tr>
<td align="left">stepMismatch</td>
<td align="left">设置为 true, 如果元素的值不是按照规定的 step 属性设置。</td>
</tr>
<tr>
<td align="left">tooLong</td>
<td align="left">设置为 true, 如果元素的值超过了 maxLength 属性设置的长度。</td>
</tr>
<tr>
<td align="left">typeMismatch</td>
<td align="left">设置为 true, 如果元素的值不是预期相匹配的类型。</td>
</tr>
<tr>
<td align="left">valueMissing</td>
<td align="left">设置为 true，如果元素 (required 属性) 没有值。</td>
</tr>
<tr>
<td align="left">valid</td>
<td align="left">设置为 true，如果元素的值是合法的。</td>
</tr>
</tbody></table>
<h2 id="JavaScript-this"><a href="#JavaScript-this" class="headerlink" title="JavaScript this"></a>JavaScript this</h2><h3 id="this关键字"><a href="#this关键字" class="headerlink" title="this关键字"></a>this关键字</h3><p>面向对象语言中 this 表示当前对象的一个引用。</p>
<p>但在 JavaScript 中 this 不是固定不变的，它会随着执行环境的改变而改变。</p>
<ul>
<li>在方法中，this 表示该方法所属的对象。</li>
<li>如果单独使用，this 表示全局对象。</li>
<li>在函数中，this 表示全局对象。</li>
<li>在函数中，在严格模式下，this 是未定义的(undefined)。</li>
<li>在事件中，this 表示接收事件的元素。</li>
<li>类似 call() 和 apply() 方法可以将 this 引用到任何对象。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person &#x3D; &#123;</span><br><span class="line">  firstName: &quot;John&quot;,</span><br><span class="line">  lastName : &quot;Doe&quot;,</span><br><span class="line">  id       : 5566,</span><br><span class="line">  fullName : function() &#123;</span><br><span class="line">    return this.firstName + &quot; &quot; + this.lastName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="方法中的this"><a href="#方法中的this" class="headerlink" title="方法中的this"></a>方法中的this</h3><p>在对象方法中， this 指向调用它所在方法的对象。</p>
<p>在上面一个实例中，this 表示 person 对象。</p>
<p>fullName 方法所属的对象就是 person。</p>
<h3 id="单独使用this"><a href="#单独使用this" class="headerlink" title="单独使用this"></a>单独使用this</h3><p>单独使用 this，则它指向全局(Global)对象。</p>
<p>在浏览器中，window 就是该全局对象为 [<strong>object Window</strong>]:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; this;</span><br></pre></td></tr></table></figure>

<p>严格模式下，如果单独使用，this 也是指向全局(Global)对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">var x &#x3D; this;</span><br></pre></td></tr></table></figure>

<h3 id="函数中使用this-默认"><a href="#函数中使用this-默认" class="headerlink" title="函数中使用this(默认)"></a>函数中使用this(默认)</h3><p>在函数中，函数的所属者默认绑定到 this 上。</p>
<p>在浏览器中，window 就是该全局对象为 [<strong>object Window</strong>]:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function myFunction() &#123;</span><br><span class="line">  return this;   &#x2F;&#x2F;实例中，this 表示 myFunction 函数的所有者:[object Window]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数中使用this-严格模式"><a href="#函数中使用this-严格模式" class="headerlink" title="函数中使用this(严格模式)"></a>函数中使用this(严格模式)</h3><p>严格模式下函数是没有绑定到 this 上，这时候 this 是 <strong>undefined</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* 函数中，默认情况下，this 指向全局对象。严格模式下，this 为 undefined，因为严格模式下不允许默认绑定:undefined *&#x2F;</span><br></pre></td></tr></table></figure>

<h3 id="事件中的this"><a href="#事件中的this" class="headerlink" title="事件中的this"></a>事件中的this</h3><p>在 HTML 事件句柄中，this 指向了接收事件的 HTML 元素：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onclick&#x3D;&quot;this.style.display&#x3D;&#39;none&#39;&quot;&gt;点我后我就消失了&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="对象方法中绑定"><a href="#对象方法中绑定" class="headerlink" title="对象方法中绑定"></a>对象方法中绑定</h3><p>下面实例中，this 是 person 对象，person 对象是函数的所有者：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person &#x3D; &#123;</span><br><span class="line">  firstName  : &quot;John&quot;,</span><br><span class="line">  lastName   : &quot;Doe&quot;,</span><br><span class="line">  id         : 5566,</span><br><span class="line">  myFunction : function() &#123;</span><br><span class="line">    return this;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="显式函数绑定"><a href="#显式函数绑定" class="headerlink" title="显式函数绑定"></a>显式函数绑定</h3><p>在 JavaScript 中函数也是对象，对象则有方法，apply 和 call 就是函数对象的方法。这两个方法异常强大，他们允许切换函数执行的上下文环境（context），即 this 绑定的对象。</p>
<p>在下面实例中，当我们使用 person2 作为参数来调用 person1.fullName 方法时, <strong>this</strong> 将指向 person2, 即便它是 person1 的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var person1 &#x3D; &#123;</span><br><span class="line">  fullName: function() &#123;</span><br><span class="line">    return this.firstName + &quot; &quot; + this.lastName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var person2 &#x3D; &#123;</span><br><span class="line">  firstName:&quot;John&quot;,</span><br><span class="line">  lastName: &quot;Doe&quot;,</span><br><span class="line">&#125;</span><br><span class="line">person1.fullName.call(person2);  &#x2F;&#x2F; 返回 &quot;John Doe&quot;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-let和const"><a href="#JavaScript-let和const" class="headerlink" title="JavaScript let和const"></a>JavaScript let和const</h2><p>ECMAScript 2015(ECMAScript 6)<br>ES2015(ES6) 新增加了两个重要的 JavaScript 关键字: let 和 const。</p>
<p>let 声明的变量只在 let 命令所在的代码块内有效。</p>
<p>const 声明一个只读的常量，一旦声明，常量的值就不能改变。</p>
<p>在 ES6 之前，JavaScript 只有两种作用域： 全局变量 与 函数内的局部变量。</p>
<h3 id="JavaScript块级作用域-Block-Scope"><a href="#JavaScript块级作用域-Block-Scope" class="headerlink" title="JavaScript块级作用域(Block Scope)"></a>JavaScript块级作用域(Block Scope)</h3><p>使用 var 关键字声明的变量不具备块级作用域的特性，它在 {} 外依然能被访问到。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    var x &#x3D; 2; </span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里可以使用 x 变量</span><br></pre></td></tr></table></figure>

<p>在 ES6 之前，是没有块级作用域的概念的。</p>
<p>ES6 可以使用 let 关键字来实现块级作用域。</p>
<p>let 声明的变量只在 let 命令所在的代码块 <strong>{}</strong> 内有效，在 <strong>{}</strong> 之外不能访问。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    let x &#x3D; 2;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里不能使用 x 变量</span><br></pre></td></tr></table></figure>

<h3 id="重新定义变量"><a href="#重新定义变量" class="headerlink" title="重新定义变量"></a>重新定义变量</h3><p>使用 var 关键字重新声明变量可能会带来问题。</p>
<p>在块中重新声明变量也会重新声明块外的变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">&#x2F;&#x2F; 这里输出 x 为 10</span><br><span class="line">&#123; </span><br><span class="line">    var x &#x3D; 2;</span><br><span class="line">    &#x2F;&#x2F; 这里输出 x 为 2</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里输出 x 为 2</span><br></pre></td></tr></table></figure>

<p>let 关键字就可以解决这个问题，因为它只在 let 命令所在的代码块 <strong>{}</strong> 内有效。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">&#x2F;&#x2F; 这里输出 x 为 10</span><br><span class="line">&#123; </span><br><span class="line">    let x &#x3D; 2;</span><br><span class="line">    &#x2F;&#x2F; 这里输出 x 为 2</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里输出 x 为 10</span><br></pre></td></tr></table></figure>

<h3 id="循环作用域"><a href="#循环作用域" class="headerlink" title="循环作用域"></a>循环作用域</h3><p>使用 var 关键字：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var i&#x3D;5;</span><br><span class="line">for (var i &#x3D; 0; i &lt; 10 ; i++)&#123;</span><br><span class="line">	&#x2F;&#x2F; 一些代码...</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里输出i为10</span><br></pre></td></tr></table></figure>

<p>使用 let 关键字:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let i &#x3D; 5;</span><br><span class="line">for (let i &#x3D; 0; i &lt; 10; i++) &#123;</span><br><span class="line">    &#x2F;&#x2F; 一些代码...</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里输出 i 为 5</span><br></pre></td></tr></table></figure>

<p>在第一个实例中，使用了 <strong>var</strong> 关键字，它声明的变量是全局的，包括循环体内与循环体外。</p>
<p>在第二个实例中，使用 <strong>let</strong> 关键字， 它声明的变量作用域只在循环体内，循环体外的变量不受影响。</p>
<h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>在函数体内使用 <strong>var</strong> 和 <strong>let</strong> 关键字声明的变量有点类似。</p>
<p>它们的作用域都是 <strong>局部的</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 使用 var</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    var carName &#x3D; &quot;Volvo&quot;;   &#x2F;&#x2F; 局部作用域</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用 let</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">    let carName &#x3D; &quot;Volvo&quot;;   &#x2F;&#x2F;  局部作用域</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>在函数体外或代码块外使用 <strong>var</strong> 和 <strong>let</strong> 关键字声明的变量也有点类似。</p>
<p>它们的作用域都是 <strong>全局的</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 使用 var</span><br><span class="line">var x &#x3D; 2;       &#x2F;&#x2F; 全局作用域</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使用 let</span><br><span class="line">let x &#x3D; 2;       &#x2F;&#x2F; 全局作用域</span><br></pre></td></tr></table></figure>

<h3 id="THML代码中使用全局变量"><a href="#THML代码中使用全局变量" class="headerlink" title="THML代码中使用全局变量"></a>THML代码中使用全局变量</h3><p>在 JavaScript 中, 全局作用域是针对 JavaScript 环境。</p>
<p>在 HTML 中, 全局作用域是针对 window 对象。</p>
<p>使用 <strong>var</strong> 关键字声明的全局作用域变量属于 window 对象:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var carName &#x3D; &quot;Volvo&quot;;</span><br><span class="line">&#x2F;&#x2F; 可以使用 window.carName 访问变量</span><br></pre></td></tr></table></figure>

<p>使用 <strong>let</strong> 关键字声明的全局作用域变量不属于 window 对象:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let carName &#x3D; &quot;Volvo&quot;;</span><br><span class="line">&#x2F;&#x2F; 不能使用 window.carName 访问变量</span><br></pre></td></tr></table></figure>

<h3 id="重置变量"><a href="#重置变量" class="headerlink" title="重置变量"></a>重置变量</h3><p>使用 <strong>var</strong> 关键字声明的变量在任何地方都可以修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 2;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; x 为 2</span><br><span class="line"> </span><br><span class="line">var x &#x3D; 3;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 现在 x 为 3</span><br></pre></td></tr></table></figure>

<p>在相同的作用域或块级作用域中，不能使用 <strong>let</strong> 关键字来重置 <strong>var</strong> 关键字声明的变量:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 2;       &#x2F;&#x2F; 合法</span><br><span class="line">let x &#x3D; 3;       &#x2F;&#x2F; 不合法</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    var x &#x3D; 4;   &#x2F;&#x2F; 合法</span><br><span class="line">    let x &#x3D; 5   &#x2F;&#x2F; 不合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在相同的作用域或块级作用域中，不能使用 <strong>let</strong> 关键字来重置 <strong>let</strong> 关键字声明的变量:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let x &#x3D; 2;       &#x2F;&#x2F; 合法</span><br><span class="line">let x &#x3D; 3;       &#x2F;&#x2F; 不合法</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    let x &#x3D; 4;   &#x2F;&#x2F; 合法</span><br><span class="line">    let x &#x3D; 5;   &#x2F;&#x2F; 不合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在相同的作用域或块级作用域中，不能使用 <strong>var</strong> 关键字来重置 <strong>let</strong> 关键字声明的变量:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let x &#x3D; 2;       &#x2F;&#x2F; 合法</span><br><span class="line">var x &#x3D; 3;       &#x2F;&#x2F; 不合法</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    let x &#x3D; 4;   &#x2F;&#x2F; 合法</span><br><span class="line">    var x &#x3D; 5;   &#x2F;&#x2F; 不合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>let</strong> 关键字在不同作用域，或不同块级作用域中是可以重新声明赋值的:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let x &#x3D; 2;       &#x2F;&#x2F; 合法</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    let x &#x3D; 3;   &#x2F;&#x2F; 合法</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    let x &#x3D; 4;   &#x2F;&#x2F; 合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h3><p>JavaScript 中，var 关键字定义的变量可以在使用后声明，也就是变量可以先使用再声明。</p>
<p>let 关键字定义的变量则不可以在使用后声明，也就是变量需要先声明再使用。</p>
<h3 id="const关键字"><a href="#const关键字" class="headerlink" title="const关键字"></a>const关键字</h3><p>const 用于声明一个或多个常量，声明时必须进行初始化，且初始化后值不可再修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const PI &#x3D; 3.141592653589793;</span><br><span class="line">PI &#x3D; 3.14;      &#x2F;&#x2F; 报错</span><br><span class="line">PI &#x3D; PI + 10;   &#x2F;&#x2F; 报错</span><br></pre></td></tr></table></figure>

<p><code>const</code>定义常量与使用<code>let</code> 定义的变量相似：</p>
<ul>
<li>二者都是块级作用域</li>
<li>都不能和它所在作用域内的其他变量或函数拥有相同的名称</li>
</ul>
<p>两者还有以下两点区别：</p>
<ul>
<li><code>const</code>声明的常量必须初始化，而<code>let</code>声明的变量不用</li>
<li>const 定义常量的值不能通过再赋值修改，也不能再次声明。而 let 定义的变量值可以修改。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 10;</span><br><span class="line">&#x2F;&#x2F; 这里输出 x 为 10</span><br><span class="line">&#123; </span><br><span class="line">    const x &#x3D; 2;</span><br><span class="line">    &#x2F;&#x2F; 这里输出 x 为 2</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 这里输出 x 为 10</span><br></pre></td></tr></table></figure>

<p>const 声明的常量必须初始化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 错误写法</span><br><span class="line">const PI;</span><br><span class="line">PI &#x3D; 3.14159265359;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 正确写法</span><br><span class="line">const PI &#x3D; 3.14159265359;</span><br></pre></td></tr></table></figure>

<h3 id="并非真正的常量"><a href="#并非真正的常量" class="headerlink" title="并非真正的常量"></a>并非真正的常量</h3><p>const 的本质: const 定义的变量并非常量，并非不可变，它定义了一个常量引用一个值。使用 const 定义的对象或者数组，其实是可变的。下面的代码并不会报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建常量对象</span><br><span class="line">const car &#x3D; &#123;type:&quot;Fiat&quot;, model:&quot;500&quot;, color:&quot;white&quot;&#125;;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 修改属性:</span><br><span class="line">car.color &#x3D; &quot;red&quot;;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 添加属性</span><br><span class="line">car.owner &#x3D; &quot;Johnson&quot;;</span><br></pre></td></tr></table></figure>

<p>但是我们不能对常量对象重新赋值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const car &#x3D; &#123;type:&quot;Fiat&quot;, model:&quot;500&quot;, color:&quot;white&quot;&#125;;</span><br><span class="line">car &#x3D; &#123;type:&quot;Volvo&quot;, model:&quot;EX60&quot;, color:&quot;red&quot;&#125;;    &#x2F;&#x2F; 错误</span><br></pre></td></tr></table></figure>

<p>以下实例修改常量数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建常量数组</span><br><span class="line">const cars &#x3D; [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 修改元素</span><br><span class="line">cars[0] &#x3D; &quot;Toyota&quot;;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 添加元素</span><br><span class="line">cars.push(&quot;Audi&quot;);</span><br></pre></td></tr></table></figure>

<p>但是我们不能对常量数组重新赋值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const cars &#x3D; [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</span><br><span class="line">cars &#x3D; [&quot;Toyota&quot;, &quot;Volvo&quot;, &quot;Audi&quot;];    &#x2F;&#x2F; 错误</span><br></pre></td></tr></table></figure>

<h3 id="重置变量-1"><a href="#重置变量-1" class="headerlink" title="重置变量"></a>重置变量</h3><p>使用 <strong>var</strong> 关键字声明的变量在任何地方都可以修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 2;    &#x2F;&#x2F;  合法</span><br><span class="line">var x &#x3D; 3;    &#x2F;&#x2F;  合法</span><br><span class="line">x &#x3D; 4;        &#x2F;&#x2F;  合法</span><br></pre></td></tr></table></figure>

<p>在相同的作用域或块级作用域中，不能使用 <strong>const</strong> 关键字来重置 <strong>var</strong> 和 <strong>let</strong>关键字声明的变量:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var x &#x3D; 2;         &#x2F;&#x2F; 合法</span><br><span class="line">const x &#x3D; 2;       &#x2F;&#x2F; 不合法</span><br><span class="line">&#123;</span><br><span class="line">    let x &#x3D; 2;     &#x2F;&#x2F; 合法</span><br><span class="line">    const x &#x3D; 2;   &#x2F;&#x2F; 不合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在相同的作用域或块级作用域中，不能使用 <strong>const</strong> 关键字来重置 <strong>const</strong> 关键字声明的变量:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const x &#x3D; 2;       &#x2F;&#x2F; 合法</span><br><span class="line">const x &#x3D; 3;       &#x2F;&#x2F; 不合法</span><br><span class="line">x &#x3D; 3;             &#x2F;&#x2F; 不合法</span><br><span class="line">var x &#x3D; 3;         &#x2F;&#x2F; 不合法</span><br><span class="line">let x &#x3D; 3;         &#x2F;&#x2F; 不合法</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    const x &#x3D; 2;   &#x2F;&#x2F; 合法</span><br><span class="line">    const x &#x3D; 3;   &#x2F;&#x2F; 不合法</span><br><span class="line">    x &#x3D; 3;         &#x2F;&#x2F; 不合法</span><br><span class="line">    var x &#x3D; 3;     &#x2F;&#x2F; 不合法</span><br><span class="line">    let x &#x3D; 3;     &#x2F;&#x2F; 不合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>const</strong> 关键字在不同作用域，或不同块级作用域中是可以重新声明赋值的:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const x &#x3D; 2;       &#x2F;&#x2F; 合法</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    const x &#x3D; 3;   &#x2F;&#x2F; 合法</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    const x &#x3D; 4;   &#x2F;&#x2F; 合法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="变量提升-1"><a href="#变量提升-1" class="headerlink" title="变量提升"></a>变量提升</h3><p>const 关键字定义的变量则不可以在使用后声明，也就是变量需要先声明再使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">carName &#x3D; &quot;Volvo&quot;;    &#x2F;&#x2F; 在这里不可以使用 carName 变量</span><br><span class="line">const carName &#x3D; &quot;Volvo&quot;;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-JSON"><a href="#JavaScript-JSON" class="headerlink" title="JavaScript JSON"></a>JavaScript JSON</h2><p>JSON 是用于存储和传输数据的格式。</p>
<p>JSON 通常用于服务端向网页传递数据 。</p>
<h3 id="什么是JSON？"><a href="#什么是JSON？" class="headerlink" title="什么是JSON？"></a>什么是JSON？</h3><p>JSON 英文全称 <strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation</p>
<p>JSON 是一种轻量级的数据交换格式。</p>
<p>JSON是独立的语言。</p>
<p>JSON 易于理解。</p>
<p>JSON 使用 JavaScript 语法，但是 JSON 格式仅仅是一个文本。<br>文本可以被任何编程语言读取及作为数据格式传递。</p>
<h3 id="JSON实例"><a href="#JSON实例" class="headerlink" title="JSON实例"></a>JSON实例</h3><p>以下 JSON 语法定义了 sites 对象: 3 条网站信息（对象）的数组:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;sites&quot;:[</span><br><span class="line">    &#123;&quot;name&quot;:&quot;Runoob&quot;, &quot;url&quot;:&quot;www.runoob.com&quot;&#125;, </span><br><span class="line">    &#123;&quot;name&quot;:&quot;Google&quot;, &quot;url&quot;:&quot;www.google.com&quot;&#125;,</span><br><span class="line">    &#123;&quot;name&quot;:&quot;Taobao&quot;, &quot;url&quot;:&quot;www.taobao.com&quot;&#125;</span><br><span class="line">]&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSON格式化后为JavaScript对象"><a href="#JSON格式化后为JavaScript对象" class="headerlink" title="JSON格式化后为JavaScript对象"></a>JSON格式化后为JavaScript对象</h3><p>JSON 格式在语法上与创建 JavaScript 对象代码是相同的。</p>
<p>由于它们很相似，所以 JavaScript 程序可以很容易的将 JSON 数据转换为 JavaScript 对象。</p>
<h3 id="JSON语法规则"><a href="#JSON语法规则" class="headerlink" title="JSON语法规则"></a>JSON语法规则</h3><p>数据为 键/值 对。</p>
<p>数据由逗号分隔。</p>
<p>大括号保存对象</p>
<p>方括号保存数组</p>
<h3 id="JSON数据-一个名称对应一个值"><a href="#JSON数据-一个名称对应一个值" class="headerlink" title="JSON数据 - 一个名称对应一个值"></a>JSON数据 - 一个名称对应一个值</h3><p>JSON 数据格式为 键/值 对，就像 JavaScript 对象属性。</p>
<p>键/值对包括字段名称（在双引号中），后面一个冒号，然后是值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;nickname&quot;:&quot;Tianze&quot;</span><br></pre></td></tr></table></figure>

<h3 id="JSON对象"><a href="#JSON对象" class="headerlink" title="JSON对象"></a>JSON对象</h3><p>JSON 数组保存在中括号内。</p>
<p>就像在 JavaScript 中, 数组可以包含对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;name&quot;:&quot;Runoob&quot;, &quot;url&quot;:&quot;www.runoob.com&quot;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSON数组"><a href="#JSON数组" class="headerlink" title="JSON数组"></a>JSON数组</h3><p>JSON 数组保存在中括号内。</p>
<p>就像在 JavaScript 中, 数组可以包含对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;sites&quot;:[</span><br><span class="line">    &#123;&quot;name&quot;:&quot;Runoob&quot;, &quot;url&quot;:&quot;www.runoob.com&quot;&#125;, </span><br><span class="line">    &#123;&quot;name&quot;:&quot;Google&quot;, &quot;url&quot;:&quot;www.google.com&quot;&#125;,</span><br><span class="line">    &#123;&quot;name&quot;:&quot;Taobao&quot;, &quot;url&quot;:&quot;www.taobao.com&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>在以上实例中，对象 “sites” 是一个数组，包含了三个对象。</p>
<p>每个对象为站点的信息（网站名和网站地址）。</p>
<h3 id="JSON字符串转换为JavaScript对象"><a href="#JSON字符串转换为JavaScript对象" class="headerlink" title="JSON字符串转换为JavaScript对象"></a>JSON字符串转换为JavaScript对象</h3><p>通常我们从服务器中读取 JSON 数据，并在网页中显示数据。</p>
<p>简单起见，我们网页中直接设置 JSON 字符串:</p>
<p>首先，创建 JavaScript 字符串，字符串为 JSON 格式的数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var text &#x3D; &#39;&#123; &quot;sites&quot; : [&#39; +</span><br><span class="line">&#39;&#123; &quot;name&quot;:&quot;Runoob&quot; , &quot;url&quot;:&quot;www.runoob.com&quot; &#125;,&#39; +</span><br><span class="line">&#39;&#123; &quot;name&quot;:&quot;Google&quot; , &quot;url&quot;:&quot;www.google.com&quot; &#125;,&#39; +</span><br><span class="line">&#39;&#123; &quot;name&quot;:&quot;Taobao&quot; , &quot;url&quot;:&quot;www.taobao.com&quot; &#125; ]&#125;&#39;;</span><br></pre></td></tr></table></figure>

<p>然后，使用 JavaScript 内置函数 JSON.parse() 将字符串转换为 JavaScript 对象:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var obj &#x3D; JSON.parse(text);</span><br></pre></td></tr></table></figure>

<p>最后，在你的页面中使用新的 JavaScript 对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var text &#x3D; &#39;&#123; &quot;sites&quot; : [&#39; +</span><br><span class="line">    &#39;&#123; &quot;name&quot;:&quot;Runoob&quot; , &quot;url&quot;:&quot;www.runoob.com&quot; &#125;,&#39; +</span><br><span class="line">    &#39;&#123; &quot;name&quot;:&quot;Google&quot; , &quot;url&quot;:&quot;www.google.com&quot; &#125;,&#39; +</span><br><span class="line">    &#39;&#123; &quot;name&quot;:&quot;Taobao&quot; , &quot;url&quot;:&quot;www.taobao.com&quot; &#125; ]&#125;&#39;;</span><br><span class="line">    </span><br><span class="line">obj &#x3D; JSON.parse(text);</span><br><span class="line">document.getElementById(&quot;demo&quot;).innerHTML &#x3D; obj.sites[1].name + &quot; &quot; + obj.sites[1].url;</span><br></pre></td></tr></table></figure>

<h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><table>
<thead>
<tr>
<th align="left">函数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a href="https://www.runoob.com/js/javascript-json-parse.html" target="_blank" rel="noopener">JSON.parse()</a></td>
<td align="left">用于将一个 JSON 字符串转换为 JavaScript 对象。</td>
</tr>
<tr>
<td align="left"><a href="https://www.runoob.com/js/javascript-json-stringify.html" target="_blank" rel="noopener">JSON.stringify()</a></td>
<td align="left">用于将 JavaScript 值转换为 JSON 字符串。</td>
</tr>
</tbody></table>
<h2 id="JavaScript-void"><a href="#JavaScript-void" class="headerlink" title="JavaScript void"></a>JavaScript void</h2><h3 id="JavaScript-void-0-含义"><a href="#JavaScript-void-0-含义" class="headerlink" title="JavaScript:void(0) 含义"></a>JavaScript:void(0) 含义</h3><p>我们经常会使用到 <strong>javascript:void(0)</strong> 这样的代码，那么在 JavaScript 中 <strong>javascript:void(0)</strong> 代表的是什么意思呢？</p>
<p><strong>javascript:void(0)</strong> 中最关键的是 <strong>void</strong> 关键字， <strong>void</strong> 是 JavaScript 中非常重要的关键字，该操作符指定要计算一个表达式但是不返回值。</p>
<p>语法格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void func()</span><br><span class="line">javascript:void func()</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void(func())</span><br><span class="line">javascript:void(func())</span><br></pre></td></tr></table></figure>

<p>下面的代码创建了一个超级链接，当用户点击以后不会发生任何事。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;javascript:void(0)&quot;&gt;单击此处什么也不会发生&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<p>当用户链接时，void(0) 计算为 0，但 Javascript 上没有任何效果。</p>
<p>以下实例中，在用户点击链接后显示警告信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;点击以下链接查看结果：&lt;&#x2F;p&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;javascript:void(alert(&#39;Warning!!!&#39;))&quot;&gt;点我!&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<p>以下实例中参数 a 将返回 undefined :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function getValue()&#123;</span><br><span class="line">   var a,b,c;</span><br><span class="line">   a &#x3D; void ( b &#x3D; 5, c &#x3D; 7 );</span><br><span class="line">   document.write(&#39;a &#x3D; &#39; + a + &#39; b &#x3D; &#39; + b +&#39; c &#x3D; &#39; + c );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="href-”-”与href-”javascript-void-0-”的区别"><a href="#href-”-”与href-”javascript-void-0-”的区别" class="headerlink" title="href=”#”与href=”javascript:void(0)”的区别"></a>href=”#”与href=”javascript:void(0)”的区别</h3><p><strong>#</strong> 包含了一个位置信息，默认的锚是<strong>#top</strong> 也就是网页的上端。</p>
<p>而javascript:void(0), 仅仅表示一个死链接。</p>
<p>在页面很长的时候会使用 <strong>#</strong> 来定位页面的具体位置，格式为：<strong># + id</strong>。</p>
<p>如果你要定义一个死链接请使用 javascript:void(0) 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;javascript:void(0);&quot;&gt;点我没有反应的!&lt;&#x2F;a&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;#pos&quot;&gt;点我定位到指定位置!&lt;&#x2F;a&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">...</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;p id&#x3D;&quot;pos&quot;&gt;尾部定位点&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-异步编程"><a href="#JavaScript-异步编程" class="headerlink" title="JavaScript 异步编程"></a>JavaScript 异步编程</h2><h3 id="异步的概念"><a href="#异步的概念" class="headerlink" title="异步的概念"></a>异步的概念</h3><p>异步（Asynchronous, async）是与同步（Synchronous, sync）相对的概念。</p>
<p>在我们学习的传统单线程编程中，程序的运行是同步的（同步不意味着所有步骤同时运行，而是指步骤在一个控制流序列中按顺序执行）。而异步的概念则是不保证同步的概念，也就是说，一个异步过程的执行将不再与原有的序列有顺序关系。</p>
<p>简单来理解就是：同步按你的代码顺序执行，异步不按照代码顺序执行，异步的执行效率更高。</p>
<p>以上是关于异步的概念的解释，接下来我们通俗地解释一下异步：异步就是从主线程发射一个子线程来完成任务。</p>
<p><img src="https://gitee.com/hollow-heart/typora-image/raw/master/async-sync.png" alt="img"></p>
<h3 id="什么时候用异步编程"><a href="#什么时候用异步编程" class="headerlink" title="什么时候用异步编程"></a>什么时候用异步编程</h3><p>在前端编程中（甚至后端有时也是这样），我们在处理一些简短、快速的操作时，例如计算 1 + 1 的结果，往往在主线程中就可以完成。主线程作为一个线程，不能够同时接受多方面的请求。所以，当一个事件没有结束时，界面将无法处理其他请求。</p>
<p>现在有一个按钮，如果我们设置它的 onclick 事件为一个死循环，那么当这个按钮按下，整个网页将失去响应。</p>
<p>为了避免这种情况的发生，我们常常用子线程来完成一些可能消耗时间足够长以至于被用户察觉的事情，比如读取一个大文件或者发出一个网络请求。因为子线程独立于主线程，所以即使出现阻塞也不会影响主线程的运行。但是子线程有一个局限：一旦发射了以后就会与主线程失去同步，我们无法确定它的结束，如果结束之后需要处理一些事情，比如处理来自服务器的信息，我们是无法将它合并到主线程中去的。</p>
<p>为了解决这个问题，JavaScript 中的异步操作函数往往通过回调函数来实现异步任务的结果处理。</p>
<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><p>回调函数就是一个函数，它是在我们启动一个异步任务的时候就告诉它：等你完成了这个任务之后要干什么。这样一来主线程几乎不用关心异步任务的状态了，他自己会善始善终。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function print() &#123;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML&#x3D;&quot;RUNOOB!&quot;;</span><br><span class="line">&#125;</span><br><span class="line">setTimeout(print, 3000);</span><br></pre></td></tr></table></figure>

<p>这段程序中的 setTimeout 就是一个消耗时间较长（3 秒）的过程，它的第一个参数是个回调函数，第二个参数是毫秒数，这个函数执行之后会产生一个子线程，子线程会等待 3 秒，然后执行回调函数 “print”，在命令行输出 “Time out”。</p>
<p>当然，JavaScript 语法十分友好，我们不必单独定义一个函数 print ，我们常常将上面的程序写成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function () &#123;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML&#x3D;&quot;RUNOOB!&quot;;</span><br><span class="line">&#125;, 3000);</span><br></pre></td></tr></table></figure>

<p>既然 setTimeout 会在子线程中等待 3 秒，在 setTimeout 函数执行之后主线程并没有停止，所以：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function () &#123;</span><br><span class="line">    document.getElementById(&quot;demo1&quot;).innerHTML&#x3D;&quot;RUNOOB-1!&quot;;</span><br><span class="line">&#125;, 3000);</span><br><span class="line">document.getElementById(&quot;demo2&quot;).innerHTML&#x3D;&quot;RUNOOB-2!&quot;;</span><br><span class="line">console.log(&quot;2&quot;);</span><br></pre></td></tr></table></figure>

<p>这段程序的执行结果是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RUNOOB-1!</span><br><span class="line">RUNOOB-2!</span><br></pre></td></tr></table></figure>

<h3 id="异步AJAX"><a href="#异步AJAX" class="headerlink" title="异步AJAX"></a>异步AJAX</h3><p>除了 setTimeout 函数以外，异步回调广泛应用于 AJAX 编程。有关于 AJAX 详细请参见：<a href="https://www.runoob.com/ajax/ajax-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/ajax/ajax-tutorial.html</a></p>
<p>XMLHttpRequest 常常用于请求来自远程服务器上的 XML 或 JSON 数据。一个标准的 XMLHttpRequest 对象往往包含多个回调：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var xhr &#x3D; new XMLHttpRequest();</span><br><span class="line"> </span><br><span class="line">xhr.onload &#x3D; function () &#123;</span><br><span class="line">    &#x2F;&#x2F; 输出接收到的文字数据</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML&#x3D;xhr.responseText;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">xhr.onerror &#x3D; function () &#123;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).innerHTML&#x3D;&quot;请求出错&quot;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 发送异步 GET 请求</span><br><span class="line">xhr.open(&quot;GET&quot;, &quot;https:&#x2F;&#x2F;www.runoob.com&#x2F;try&#x2F;ajax&#x2F;ajax_info.txt&quot;, true);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure>

<p>XMLHttpRequest 的 onload 和 onerror 属性都是函数，分别在它请求成功和请求失败时被调用。如果你使用完整的 jQuery 库，也可以更加优雅的使用异步 AJAX：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.get(&quot;https:&#x2F;&#x2F;www.runoob.com&#x2F;try&#x2F;ajax&#x2F;demo_test.php&quot;,function(data,status)&#123;</span><br><span class="line">    alert(&quot;数据: &quot; + data + &quot;\n状态: &quot; + status);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-Promise"><a href="#JavaScript-Promise" class="headerlink" title="JavaScript Promise"></a>JavaScript Promise</h2><p>Promise 是一个 ECMAScript 6 提供的类，目的是更加优雅地书写复杂的异步任务。</p>
<p>由于 Promise 是 ES6 新增加的，所以一些旧的浏览器并不支持，苹果的 Safari 10 和 Windows 的 Edge 14 版本以上浏览器才开始支持 ES6 特性。</p>
<h3 id="构造Promise"><a href="#构造Promise" class="headerlink" title="构造Promise"></a>构造Promise</h3><p>现在我们新建一个 Promise 对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">    &#x2F;&#x2F; 要做的事情...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>通过新建一个 Promise 对象好像并没有看出它怎样 “更加优雅地书写复杂的异步任务”。我们之前遇到的异步任务都是一次异步，如果需要多次调用异步函数呢？例如，如果我想分三次输出字符串，第一次间隔 1 秒，第二次间隔 4 秒，第三次间隔 3 秒：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function () &#123;</span><br><span class="line">    console.log(&quot;First&quot;);</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">        console.log(&quot;Second&quot;);</span><br><span class="line">        setTimeout(function () &#123;</span><br><span class="line">            console.log(&quot;Third&quot;);</span><br><span class="line">        &#125;, 3000);</span><br><span class="line">    &#125;, 4000);</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>

<p>这段程序实现了这个功能，但是它是用 “函数瀑布” 来实现的。可想而知，在一个复杂的程序当中，用 “函数瀑布” 实现的程序无论是维护还是异常处理都是一件特别繁琐的事情，而且会让缩进格式变得非常冗赘。</p>
<p>现在我们用 Promise 来实现同样的功能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">        console.log(&quot;First&quot;);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">&#125;).then(function () &#123;</span><br><span class="line">    return new Promise(function (resolve, reject) &#123;</span><br><span class="line">        setTimeout(function () &#123;</span><br><span class="line">            console.log(&quot;Second&quot;);</span><br><span class="line">            resolve();</span><br><span class="line">        &#125;, 4000);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).then(function () &#123;</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">        console.log(&quot;Third&quot;);</span><br><span class="line">    &#125;, 3000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>这段代码较长，所以还不需要完全理解它，我想引起注意的是 Promise 将嵌套格式的代码变成了顺序格式的代码。</p>
<h3 id="Promise的使用"><a href="#Promise的使用" class="headerlink" title="Promise的使用"></a>Promise的使用</h3><p>下面我们通过剖析这段 Promise “计时器” 代码来讲述 Promise 的使用：</p>
<p>Promise 构造函数只有一个参数，是一个函数，这个函数在构造之后会直接被异步运行，所以我们称之为起始函数。起始函数包含两个参数 resolve 和 reject。</p>
<p>当 Promise 被构造时，起始函数会被异步执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">    console.log(&quot;Run&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>这段程序会直接输出 <strong>Run</strong>。</p>
<p>resolve 和 reject 都是函数，其中调用 resolve 代表一切正常，reject 是出现异常时所调用的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">    var a &#x3D; 0;</span><br><span class="line">    var b &#x3D; 1;</span><br><span class="line">    if (b &#x3D;&#x3D; 0) reject(&quot;Diveide zero&quot;);</span><br><span class="line">    else resolve(a &#x2F; b);</span><br><span class="line">&#125;).then(function (value) &#123;</span><br><span class="line">    console.log(&quot;a &#x2F; b &#x3D; &quot; + value);</span><br><span class="line">&#125;).catch(function (err) &#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">&#125;).finally(function () &#123;</span><br><span class="line">    console.log(&quot;End&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>这段程序执行结果是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a &#x2F; b &#x3D; 0</span><br><span class="line">End</span><br></pre></td></tr></table></figure>

<p>Promise 类有 .then() .catch() 和 .finally() 三个方法，这三个方法的参数都是一个函数，.then() 可以将参数中的函数添加到当前 Promise 的正常执行序列，.catch() 则是设定 Promise 的异常处理序列，.finally() 是在 Promise 执行的最后一定会执行的序列。 .then() 传入的函数会按顺序依次执行，有任何异常都会直接跳到 catch 序列：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">new Promise(function (resolve, reject) &#123;</span><br><span class="line">    console.log(1111);</span><br><span class="line">    resolve(2222);</span><br><span class="line">&#125;).then(function (value) &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">    return 3333;</span><br><span class="line">&#125;).then(function (value) &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">    throw &quot;An error&quot;;</span><br><span class="line">&#125;).catch(function (err) &#123;</span><br><span class="line">    console.log(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1111</span><br><span class="line">2222</span><br><span class="line">3333</span><br><span class="line">An error</span><br></pre></td></tr></table></figure>

<p>resolve() 中可以放置一个参数用于向下一个 then 传递一个值，then 中的函数也可以返回一个值传递给 then。但是，如果 then 中返回的是一个 Promise 对象，那么下一个 then 将相当于对这个返回的 Promise 进行操作，这一点从刚才的计时器的例子中可以看出来。</p>
<p>reject() 参数中一般会传递一个异常给之后的 catch 函数用于处理异常。</p>
<p>但是请注意以下两点：</p>
<ul>
<li>resolve 和 reject 的作用域只有起始函数，不包括 then 以及其他序列；</li>
<li>resolve 和 reject 并不能够使起始函数停止运行，别忘了 return。</li>
</ul>
<h3 id="Promise函数"><a href="#Promise函数" class="headerlink" title="Promise函数"></a>Promise函数</h3><p>上述的 “计时器” 程序看上去比函数瀑布还要长，所以我们可以将它的核心部分写成一个 Promise 函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function print(delay, message) &#123;</span><br><span class="line">    return new Promise(function (resolve, reject) &#123;</span><br><span class="line">        setTimeout(function () &#123;</span><br><span class="line">            console.log(message);</span><br><span class="line">            resolve();</span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后我们就可以放心大胆的实现程序功能了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(1000, &quot;First&quot;).then(function () &#123;</span><br><span class="line">    return print(4000, &quot;Second&quot;);</span><br><span class="line">&#125;).then(function () &#123;</span><br><span class="line">    print(3000, &quot;Third&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>这种返回值为一个 Promise 对象的函数称作 Promise 函数，它常常用于开发基于异步操作的库。</p>
<h3 id="异步函数"><a href="#异步函数" class="headerlink" title="异步函数"></a>异步函数</h3><p>异步函数（async function）是 ECMAScript 2017 (ECMA-262) 标准的规范，几乎被所有浏览器所支持，除了 Internet Explorer。</p>
<p>在 Promise 中我们编写过一个 Promise 函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function print(delay, message) &#123;</span><br><span class="line">    return new Promise(function (resolve, reject) &#123;</span><br><span class="line">        setTimeout(function () &#123;</span><br><span class="line">            console.log(message);</span><br><span class="line">            resolve();</span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后用不同的时间间隔输出了三行文本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(1000, &quot;First&quot;).then(function () &#123;</span><br><span class="line">    return print(4000, &quot;Second&quot;);</span><br><span class="line">&#125;).then(function () &#123;</span><br><span class="line">    print(3000, &quot;Third&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>我们可以将这段代码变得更好看：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">async function asyncFunc() &#123;</span><br><span class="line">    await print(1000, &quot;First&quot;);</span><br><span class="line">    await print(4000, &quot;Second&quot;);</span><br><span class="line">    await print(3000, &quot;Third&quot;);</span><br><span class="line">&#125;</span><br><span class="line">asyncFunc();</span><br></pre></td></tr></table></figure>

<p>异步函数 async function 中可以使用 await 指令，await 指令后必须跟着一个 Promise，异步函数会在这个 Promise 运行中暂停，直到其运行结束再继续运行。</p>
<p>异步函数实际上原理与 Promise 原生 API 的机制是一模一样的，只不过更便于程序员阅读。</p>
<p>处理异常的机制将用 try-catch 块实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">async function asyncFunc() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        await new Promise(function (resolve, reject) &#123;</span><br><span class="line">            throw &quot;Some error&quot;; &#x2F;&#x2F; 或者 reject(&quot;Some error&quot;)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">        console.log(err);</span><br><span class="line">        &#x2F;&#x2F; 会输出 Some error</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">asyncFunc();</span><br></pre></td></tr></table></figure>

<p>如果 Promise 有一个正常的返回值，await 语句也会返回它：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">async function asyncFunc() &#123;</span><br><span class="line">    let value &#x3D; await new Promise(</span><br><span class="line">        function (resolve, reject) &#123;</span><br><span class="line">            resolve(&quot;Return value&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">    console.log(value);</span><br><span class="line">&#125;</span><br><span class="line">asyncFunc();</span><br></pre></td></tr></table></figure>

<p>程序会输出:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Return value</span><br></pre></td></tr></table></figure>

<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://www.runoob.com/js/js-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/js/js-tutorial.html</a></p>
<p><a href="https://blog.csdn.net/Richard1997/article/details/87350174" target="_blank" rel="noopener">https://blog.csdn.net/Richard1997/article/details/87350174</a></p>
<p><a href="https://www.huaweicloud.com/articles/f98d0e64fb1b281f60b7209c750528fc.html" target="_blank" rel="noopener">https://www.huaweicloud.com/articles/f98d0e64fb1b281f60b7209c750528fc.html</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
        <div class="declare">
          <ul class="post-copyright">
            <li>
              <i class="ri-copyright-line"></i>
              <strong>Copyright： </strong>
              Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.
            </li>
          </ul>
        </div>
        
    <footer class="article-footer">
      
          
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://yoursite.com/2021/04/12/JavaScript/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>
      
      

    </footer>

  </div>

  
  
  <nav class="article-nav">
    
      <a href="/2021/04/12/HTML-DOM/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            DOM学习笔记
          
        </div>
      </a>
    
    
      <a href="/2021/03/31/python-requests-learning/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">Python-requests模块学习</div>
      </a>
    
  </nav>


  

  
  
<!-- valine评论 -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#vcomments',
        app_id: '',
        app_key: '',
        path: window.location.pathname,
        notify: 'false',
        verify: 'false',
        avatar: 'monsterid',
        placeholder: '给我的文章加点评论吧~',
        recordIP: true
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>
<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>

  

  
  
  
  
  

</article>
</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020-2021
        <i class="ri-heart-fill heart_icon"></i> Blog of Tianze
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Tianze&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/literature">文集</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/url">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/url">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['曾经沧海难为水，除却巫山不是云', '物来顺应，未来不迎，当时不杂，既过不恋', ''],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>




<script src="/js/tocbot.min.js"></script>

<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>



<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>



<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>





<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>

  
<script src="/js/clickLove.js"></script>



<!-- 复制 -->

  
<link rel="stylesheet" href="/css/clipboard.css">

  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>




    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=27927357&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
  </div>
</body>

</html>